validate_string_is_12bit_int:
  - name: valid_numbers
    inputs:
      number:
        - "5"
        - "0x900"
        - "01"
        - "4095"
    assertions:
      stderr:
        - Input number \(.*\) is valid
  - name: invalid_numbers
    inputs:
      number:
        - "0x1000"
        - ""
        - "string"
        - this is not a number
        - "000000000011"
        - "-1"
    assertions:
      exit_code: 42
      stderr:
        - Input number \(.*\) is invalid
  - name: too_big_decimal_fails
    inputs:
      number:
        - "4096"
    assertions:
      exit_code: 42
      stderr:
        - Input number \(.*\) interpreted as decimal
        - But number must be less than 4096!
validate_flag_filter:
  - name: valid_FlagFilter_passes
    inputs:
      flags:
        - include_if_all: "3"
          exclude_if_any: "0xF04"
          include_if_any: "03"
          exclude_if_all: "4095"
  - name: invalid_FlagFilter_fails
    inputs:
      flags:
        - include_if_all: "3"
          exclude_if_any: "0xF04"
          include_if_any: "03"
          exclude_if_all: "" # empty string should trigger a fail
    assertions:
      should_fail: true
