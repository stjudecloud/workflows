- name: combine_data
  tags:
    - methylation
  command: >-
    ./developer_scripts/run_sprocket_or_miniwdl.sh -t combine_data -i tests/workflows/input_json/combine_data.json workflows/methylation/methylation-cohort.wdl
  files:
    - path: output/outputs.json
      contains:
      - combined_beta.csv

- name: filter_probes
  tags:
    - methylation
  command: >-
    ./developer_scripts/run_sprocket_or_miniwdl.sh -t filter_probes -i tests/workflows/input_json/filter_probes.json workflows/methylation/methylation-cohort.wdl
  files:
    - path: output/outputs.json
      contains:
      - filtered.beta.csv
      - filtered.probes.csv

- name: generate_umap
  tags:
    - methylation
  command: >-
    ./developer_scripts/run_sprocket_or_miniwdl.sh -t generate_umap -i tests/workflows/input_json/generate_umap.json workflows/methylation/methylation-cohort.wdl
  files:
    - path: output/outputs.json
      contains:
      - umap.csv

- name: plot_umap
  tags:
    - methylation
  command: >-
    ./developer_scripts/run_sprocket_or_miniwdl.sh -t plot_umap -i tests/workflows/input_json/plot_umap.json workflows/methylation/methylation-cohort.wdl
  files:
    - path: output/outputs.json
      contains:
      - umap.png
