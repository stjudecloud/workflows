{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"This repository contains all bioinformatics workflows used on the St. Jude Cloud project. Officially, the repository is in beta \u2014 the project is adding workflows as they are developed and put into production. Resources requirements have been optimized to minimize failures in our computing environment, but they may not reflect the best settings for your use case. Please ensure that you tailor these parameters to fit your needs. \ud83c\udfe0 Homepage Getting Started At the time of writing, all workflows are written in WDL and are tested using Cromwell . We use Oliver to easily interact with the Cromwell server to perform various tasks. Although we do not test outside of Cromwell, we expect that the workflows will work just as well using other runners. The easiest way to get started is to install bioconda and the run the following commands: conda create -n workflows-dev -c conda-forge cromwell -y conda activate workflows-dev git clone git@github.com:stjudecloud/workflows.git cd workflows Any of the workflows in the workflows folder is a good place to start, e.g. cromwell run workflows/qc/make-qc-reference.wdl Repository Structure The repository is laid out as follows: bin - Scripts used by Cromwell configuration settings. Add this to $PATH prior to using configurations in conf with Cromwell. conf - Cromwell configuration files created for various environments that we use across our team. Feel free to use/fork/suggest improvements. docker - Dockerfiles used in our workflows. All docker images are published to the GitHub Container Registy as a part of our CI and are versioned. tools - All tools we have wrapped as individual WDL tasks. workflows - Directory containing all end-to-end bioinformatics workflows. Workflows Available The current workflows exist in this repo with the following statuses: Name Version Description Specification Workflow Status RNA-Seq Standard v2.0.0 Standard RNA-Seq harmonization pipeline. Specification Realign BAM Workflow , FASTQ Workflow Build STAR References N/A Build STAR aligner reference files used in RNA-Seq Standard harmonization pipelines. None Workflow Quality Check Standard v1.0.0 Perform ~10 different QC analyses on a BAM file and compile the results using MultiQC . Specification Workflow ESTIMATE v1.0.0 ( beta ) Runs the ESTIMATE software package on a feature counts file. None Workflow Calculate Gene Lengths N/A Produces a gene length file from a GTF. None Workflow Build BWA References N/A Builds reference files used by the BWA aligner . None Workflow BAM to FASTQs v1.0.0 Split a BAM file into read groups, then read 1 FASTQs and read 2 FASTQs. None Workflow Author \ud83d\udc64 St. Jude Cloud Team Website: https://stjude.cloud Github: @stjudecloud Twitter: @StJudeResearch Tests Given that this repo is still new, there are no tests. When we add tests, we will update the README. \ud83e\udd1d Contributing Contributions, issues and feature requests are welcome! Feel free to check issues page . You can also take a look at the contributing guide . \ud83d\udcdd License Copyright \u00a9 2020-Present St. Jude Cloud Team . This project is MIT licensed.","title":"Home"},{"location":"#homepage","text":"","title":"\ud83c\udfe0 Homepage"},{"location":"#getting-started","text":"At the time of writing, all workflows are written in WDL and are tested using Cromwell . We use Oliver to easily interact with the Cromwell server to perform various tasks. Although we do not test outside of Cromwell, we expect that the workflows will work just as well using other runners. The easiest way to get started is to install bioconda and the run the following commands: conda create -n workflows-dev -c conda-forge cromwell -y conda activate workflows-dev git clone git@github.com:stjudecloud/workflows.git cd workflows Any of the workflows in the workflows folder is a good place to start, e.g. cromwell run workflows/qc/make-qc-reference.wdl","title":"Getting Started"},{"location":"#repository-structure","text":"The repository is laid out as follows: bin - Scripts used by Cromwell configuration settings. Add this to $PATH prior to using configurations in conf with Cromwell. conf - Cromwell configuration files created for various environments that we use across our team. Feel free to use/fork/suggest improvements. docker - Dockerfiles used in our workflows. All docker images are published to the GitHub Container Registy as a part of our CI and are versioned. tools - All tools we have wrapped as individual WDL tasks. workflows - Directory containing all end-to-end bioinformatics workflows.","title":"Repository Structure"},{"location":"#workflows-available","text":"The current workflows exist in this repo with the following statuses: Name Version Description Specification Workflow Status RNA-Seq Standard v2.0.0 Standard RNA-Seq harmonization pipeline. Specification Realign BAM Workflow , FASTQ Workflow Build STAR References N/A Build STAR aligner reference files used in RNA-Seq Standard harmonization pipelines. None Workflow Quality Check Standard v1.0.0 Perform ~10 different QC analyses on a BAM file and compile the results using MultiQC . Specification Workflow ESTIMATE v1.0.0 ( beta ) Runs the ESTIMATE software package on a feature counts file. None Workflow Calculate Gene Lengths N/A Produces a gene length file from a GTF. None Workflow Build BWA References N/A Builds reference files used by the BWA aligner . None Workflow BAM to FASTQs v1.0.0 Split a BAM file into read groups, then read 1 FASTQs and read 2 FASTQs. None Workflow","title":"Workflows Available"},{"location":"#author","text":"\ud83d\udc64 St. Jude Cloud Team Website: https://stjude.cloud Github: @stjudecloud Twitter: @StJudeResearch","title":"Author"},{"location":"#tests","text":"Given that this repo is still new, there are no tests. When we add tests, we will update the README.","title":"Tests"},{"location":"#contributing","text":"Contributions, issues and feature requests are welcome! Feel free to check issues page . You can also take a look at the contributing guide .","title":"\ud83e\udd1d Contributing"},{"location":"#license","text":"Copyright \u00a9 2020-Present St. Jude Cloud Team . This project is MIT licensed.","title":"\ud83d\udcdd License"},{"location":"build_for_dnanexus/","text":"Building WDL workflows for DNAnexus Obtain dxWDL JAR Retrieve the latest dxWDL JAR release from GitHub: https://github.com/dnanexus/dxWDL/releases Optional workflow parameters for dxWDL -project - Specify a project to compile the workflow. This is optional and otherwise uses the currently selected project. -archive - Archive older versions of the workflow and applets -defaults - Set default options for certain parameters -verbose - Detailed build information -locked - Creates a one stage worklfow that is cleaner in the interface -extras - JSON formatted file with options primarily for the DNAnexus platform settings Build Interactive t-SNE workflow for DNAnexus Commands for building the t-SNE workflows are included below. Your version of dxWDL may differ from the version included below. Several optional parameters are included. -defaults specifies DNAnexus paths to reference data for the workflow. -extras specifies that tasks should be retried by default on failure. Build workflow running htseq-count on BAM input java -jar dxWDL-v1.46.2.jar compile workflows/interactive-tsne/interactive_tsne_from_bams.wdl -project project-FjFfvV89F80QvvxJ8131yzpB -archive -verbose -defaults workflows/interactive-tsne/inputs/defaults_bam.json -extras workflows/interactive-tsne/inputs/extras.json -locked Build workflow from HTSeq counts data java -jar dxWDL-v1.46.2.jar compile workflows/interactive-tsne/interactive_tsne_from_counts.wdl -project project-FjFfvV89F80QvvxJ8131yzpB -archive -verbose -defaults workflows/interactive-tsne/inputs/defaults_counts.json -extras workflows/interactive-tsne/inputs/extras.json -locked Build workflow with RNA-Seq V2 remapping of BAM input java -jar dxWDL-v1.46.2.jar compile workflows/interactive-tsne/interactive-tsne.wdl -project project-FjFfvV89F80QvvxJ8131yzpB -archive -verbose -defaults workflows/interactive-tsne/inputs/defaults.json -extras workflows/interactive-tsne/inputs/extras.json -locked","title":"Building WDL workflows for DNAnexus"},{"location":"build_for_dnanexus/#building-wdl-workflows-for-dnanexus","text":"","title":"Building WDL workflows for DNAnexus"},{"location":"build_for_dnanexus/#obtain-dxwdl-jar","text":"Retrieve the latest dxWDL JAR release from GitHub: https://github.com/dnanexus/dxWDL/releases","title":"Obtain dxWDL JAR"},{"location":"build_for_dnanexus/#optional-workflow-parameters-for-dxwdl","text":"-project - Specify a project to compile the workflow. This is optional and otherwise uses the currently selected project. -archive - Archive older versions of the workflow and applets -defaults - Set default options for certain parameters -verbose - Detailed build information -locked - Creates a one stage worklfow that is cleaner in the interface -extras - JSON formatted file with options primarily for the DNAnexus platform settings","title":"Optional workflow parameters for dxWDL"},{"location":"build_for_dnanexus/#build-interactive-t-sne-workflow-for-dnanexus","text":"Commands for building the t-SNE workflows are included below. Your version of dxWDL may differ from the version included below. Several optional parameters are included. -defaults specifies DNAnexus paths to reference data for the workflow. -extras specifies that tasks should be retried by default on failure.","title":"Build Interactive t-SNE workflow for DNAnexus"},{"location":"build_for_dnanexus/#build-workflow-running-htseq-count-on-bam-input","text":"java -jar dxWDL-v1.46.2.jar compile workflows/interactive-tsne/interactive_tsne_from_bams.wdl -project project-FjFfvV89F80QvvxJ8131yzpB -archive -verbose -defaults workflows/interactive-tsne/inputs/defaults_bam.json -extras workflows/interactive-tsne/inputs/extras.json -locked","title":"Build workflow running htseq-count on BAM input"},{"location":"build_for_dnanexus/#build-workflow-from-htseq-counts-data","text":"java -jar dxWDL-v1.46.2.jar compile workflows/interactive-tsne/interactive_tsne_from_counts.wdl -project project-FjFfvV89F80QvvxJ8131yzpB -archive -verbose -defaults workflows/interactive-tsne/inputs/defaults_counts.json -extras workflows/interactive-tsne/inputs/extras.json -locked","title":"Build workflow from HTSeq counts data"},{"location":"build_for_dnanexus/#build-workflow-with-rna-seq-v2-remapping-of-bam-input","text":"java -jar dxWDL-v1.46.2.jar compile workflows/interactive-tsne/interactive-tsne.wdl -project project-FjFfvV89F80QvvxJ8131yzpB -archive -verbose -defaults workflows/interactive-tsne/inputs/defaults.json -extras workflows/interactive-tsne/inputs/extras.json -locked","title":"Build workflow with RNA-Seq V2 remapping of BAM input"},{"location":"tasks/bwa/","text":"BWA This WDL file wraps BWA . BWA aligns sequencing reads to a reference genome. bwa_aln description This WDL task maps single-end FASTQ files to BAM format using bwa aln. Inputs Required _runtime (Any, required ) bwa_db_tar_gz (File, required ): Gzipped tar archive of the bwa reference files. Files should be at the root of the archive. fastq (File, required ): Input FASTQ file to align with bwa Defaults max_retries (Int, default=1) memory_gb (Int, default=5) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) prefix (String, default=sub(basename(fastq),\"([_.][rR][12])?(.subsampled)?.(fastq|fq)(.gz)?$\",\"\")) read_group (String, default=\"\") use_all_cores (Boolean, default=false) Outputs bam (File) bwa_aln_pe description This WDL task maps paired-end FASTQ files to BAM format using bwa aln. Inputs Required _runtime (Any, required ) bwa_db_tar_gz (File, required ): Gzipped tar archive of the bwa reference files. Files should be at the root of the archive. read_one_fastq_gz (File, required ): Input FASTQ read 1 file to align with bwa read_two_fastq_gz (File, required ): Input FASTQ read 2 file to align with bwa Defaults max_retries (Int, default=1) memory_gb (Int, default=5) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) prefix (String, default=sub(basename(read_one_fastq_gz),\"([_.][rR][12])?(.subsampled)?.(fastq|fq)(.gz)?$\",\"\")) read_group (String, default=\"\") use_all_cores (Boolean, default=false) Outputs bam (File) bwa_mem description This WDL task maps FASTQ files to BAM format using bwa mem. Inputs Required _runtime (Any, required ) bwa_db_tar_gz (File, required ): Gzipped tar archive of the bwa reference files. Files should be at the root of the archive. fastq (File, required ): Input FASTQ file to align with bwa Defaults max_retries (Int, default=1) memory_gb (Int, default=5) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) prefix (String, default=sub(basename(fastq),\"([_.][rR][12])?(.subsampled)?.(fastq|fq)(.gz)?$\",\"\")) read_group (String, default=\"\") use_all_cores (Boolean, default=false) Outputs bam (File) build_bwa_db description This WDL task creates a BWA index and returns it as a compressed tar archive. Inputs Required _runtime (Any, required ) reference_fasta (File, required ): Input reference Fasta file to index with bwa. Should be compressed with gzip. Defaults db_name (String, default=\"bwa_db\"): Name of the output gzipped tar archive of the bwa reference files. max_retries (Int, default=1) memory_gb (Int, default=5) modify_disk_size_gb (Int, default=0) Outputs bwa_db_tar_gz (File) format_rg_for_bwa description This WDL task converts read group records from the BAM-formatted strings to strings expected by bwa. Inputs Required _runtime (Any, required ) read_group (String, required ): Read group string Defaults disk_size_gb (Int, default=10) max_retries (Int, default=1) memory_gb (Int, default=4) Outputs formatted_rg (String)","title":"BWA"},{"location":"tasks/bwa/#bwa","text":"This WDL file wraps BWA . BWA aligns sequencing reads to a reference genome.","title":"BWA"},{"location":"tasks/bwa/#bwa_aln","text":"description This WDL task maps single-end FASTQ files to BAM format using bwa aln.","title":"bwa_aln"},{"location":"tasks/bwa/#inputs","text":"","title":"Inputs"},{"location":"tasks/bwa/#required","text":"_runtime (Any, required ) bwa_db_tar_gz (File, required ): Gzipped tar archive of the bwa reference files. Files should be at the root of the archive. fastq (File, required ): Input FASTQ file to align with bwa","title":"Required"},{"location":"tasks/bwa/#defaults","text":"max_retries (Int, default=1) memory_gb (Int, default=5) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) prefix (String, default=sub(basename(fastq),\"([_.][rR][12])?(.subsampled)?.(fastq|fq)(.gz)?$\",\"\")) read_group (String, default=\"\") use_all_cores (Boolean, default=false)","title":"Defaults"},{"location":"tasks/bwa/#outputs","text":"bam (File)","title":"Outputs"},{"location":"tasks/bwa/#bwa_aln_pe","text":"description This WDL task maps paired-end FASTQ files to BAM format using bwa aln.","title":"bwa_aln_pe"},{"location":"tasks/bwa/#inputs_1","text":"","title":"Inputs"},{"location":"tasks/bwa/#required_1","text":"_runtime (Any, required ) bwa_db_tar_gz (File, required ): Gzipped tar archive of the bwa reference files. Files should be at the root of the archive. read_one_fastq_gz (File, required ): Input FASTQ read 1 file to align with bwa read_two_fastq_gz (File, required ): Input FASTQ read 2 file to align with bwa","title":"Required"},{"location":"tasks/bwa/#defaults_1","text":"max_retries (Int, default=1) memory_gb (Int, default=5) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) prefix (String, default=sub(basename(read_one_fastq_gz),\"([_.][rR][12])?(.subsampled)?.(fastq|fq)(.gz)?$\",\"\")) read_group (String, default=\"\") use_all_cores (Boolean, default=false)","title":"Defaults"},{"location":"tasks/bwa/#outputs_1","text":"bam (File)","title":"Outputs"},{"location":"tasks/bwa/#bwa_mem","text":"description This WDL task maps FASTQ files to BAM format using bwa mem.","title":"bwa_mem"},{"location":"tasks/bwa/#inputs_2","text":"","title":"Inputs"},{"location":"tasks/bwa/#required_2","text":"_runtime (Any, required ) bwa_db_tar_gz (File, required ): Gzipped tar archive of the bwa reference files. Files should be at the root of the archive. fastq (File, required ): Input FASTQ file to align with bwa","title":"Required"},{"location":"tasks/bwa/#defaults_2","text":"max_retries (Int, default=1) memory_gb (Int, default=5) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) prefix (String, default=sub(basename(fastq),\"([_.][rR][12])?(.subsampled)?.(fastq|fq)(.gz)?$\",\"\")) read_group (String, default=\"\") use_all_cores (Boolean, default=false)","title":"Defaults"},{"location":"tasks/bwa/#outputs_2","text":"bam (File)","title":"Outputs"},{"location":"tasks/bwa/#build_bwa_db","text":"description This WDL task creates a BWA index and returns it as a compressed tar archive.","title":"build_bwa_db"},{"location":"tasks/bwa/#inputs_3","text":"","title":"Inputs"},{"location":"tasks/bwa/#required_3","text":"_runtime (Any, required ) reference_fasta (File, required ): Input reference Fasta file to index with bwa. Should be compressed with gzip.","title":"Required"},{"location":"tasks/bwa/#defaults_3","text":"db_name (String, default=\"bwa_db\"): Name of the output gzipped tar archive of the bwa reference files. max_retries (Int, default=1) memory_gb (Int, default=5) modify_disk_size_gb (Int, default=0)","title":"Defaults"},{"location":"tasks/bwa/#outputs_3","text":"bwa_db_tar_gz (File)","title":"Outputs"},{"location":"tasks/bwa/#format_rg_for_bwa","text":"description This WDL task converts read group records from the BAM-formatted strings to strings expected by bwa.","title":"format_rg_for_bwa"},{"location":"tasks/bwa/#inputs_4","text":"","title":"Inputs"},{"location":"tasks/bwa/#required_4","text":"_runtime (Any, required ) read_group (String, required ): Read group string","title":"Required"},{"location":"tasks/bwa/#defaults_4","text":"disk_size_gb (Int, default=10) max_retries (Int, default=1) memory_gb (Int, default=4)","title":"Defaults"},{"location":"tasks/bwa/#outputs_4","text":"formatted_rg (String)","title":"Outputs"},{"location":"tasks/cellranger/","text":"Cell Ranger This WDL file wrap the 10x Genomics Cell Ranger tool. Cell Ranger is a tool for handling scRNA-Seq data. count description This WDL task runs Cell Ranger count to generate an aligned BAM and feature counts from scRNA-Seq data. Inputs Required _runtime (Any, required ) fastqs_tar_gz (File, required ): Path to the FASTQ folder archive in .tar.gz format id (String, required ): A unique run ID transcriptome_tar_gz (File, required ): Path to Cell Ranger-compatible transcriptome reference in .tar.gz format Defaults max_retries (Int, default=1) memory_gb (Int, default=16) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) use_all_cores (Boolean, default=false) Outputs bam (File) bam_index (File) qc (File) barcodes (File) features (File) matrix (File) filtered_gene_h5 (File) raw_gene_h5 (File) raw_barcodes (File) raw_features (File) raw_matrix (File) mol_info_h5 (File) web_summary (File) cloupe (File) bamtofastq description This WDL task runs the 10x bamtofastq tool to convert Cell Ranger generated BAM files back to FASTQ files Inputs Required _runtime (Any, required ) bam (File, required ): Input BAM to convert to Cell Ranger compatible fastqs Defaults cellranger11 (Boolean, default=false): Convert a BAM produced by Cell Ranger 1.0-1.1 gemcode (Boolean, default=false): Convert a BAM produced from GemCode data (Longranger 1.0 - 1.3) longranger20 (Boolean, default=false): Convert a BAM produced by Longranger 2.0 max_retries (Int, default=1) memory_gb (Int, default=40) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) use_all_cores (Boolean, default=false) Outputs fastqs (Array[File]) fastqs_archive (File) read_one_fastq_gz (Array[File]) read_two_fastq_gz (Array[File])","title":"Cellranger"},{"location":"tasks/cellranger/#count","text":"description This WDL task runs Cell Ranger count to generate an aligned BAM and feature counts from scRNA-Seq data.","title":"count"},{"location":"tasks/cellranger/#inputs","text":"","title":"Inputs"},{"location":"tasks/cellranger/#required","text":"_runtime (Any, required ) fastqs_tar_gz (File, required ): Path to the FASTQ folder archive in .tar.gz format id (String, required ): A unique run ID transcriptome_tar_gz (File, required ): Path to Cell Ranger-compatible transcriptome reference in .tar.gz format","title":"Required"},{"location":"tasks/cellranger/#defaults","text":"max_retries (Int, default=1) memory_gb (Int, default=16) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) use_all_cores (Boolean, default=false)","title":"Defaults"},{"location":"tasks/cellranger/#outputs","text":"bam (File) bam_index (File) qc (File) barcodes (File) features (File) matrix (File) filtered_gene_h5 (File) raw_gene_h5 (File) raw_barcodes (File) raw_features (File) raw_matrix (File) mol_info_h5 (File) web_summary (File) cloupe (File)","title":"Outputs"},{"location":"tasks/cellranger/#bamtofastq","text":"description This WDL task runs the 10x bamtofastq tool to convert Cell Ranger generated BAM files back to FASTQ files","title":"bamtofastq"},{"location":"tasks/cellranger/#inputs_1","text":"","title":"Inputs"},{"location":"tasks/cellranger/#required_1","text":"_runtime (Any, required ) bam (File, required ): Input BAM to convert to Cell Ranger compatible fastqs","title":"Required"},{"location":"tasks/cellranger/#defaults_1","text":"cellranger11 (Boolean, default=false): Convert a BAM produced by Cell Ranger 1.0-1.1 gemcode (Boolean, default=false): Convert a BAM produced from GemCode data (Longranger 1.0 - 1.3) longranger20 (Boolean, default=false): Convert a BAM produced by Longranger 2.0 max_retries (Int, default=1) memory_gb (Int, default=40) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) use_all_cores (Boolean, default=false)","title":"Defaults"},{"location":"tasks/cellranger/#outputs_1","text":"fastqs (Array[File]) fastqs_archive (File) read_one_fastq_gz (Array[File]) read_two_fastq_gz (Array[File])","title":"Outputs"},{"location":"tasks/deeptools/","text":"Deeptools This WDL file wraps the DeepTools tool. DeepTools is a suite of Python tools for analysis of high throughput sequencing analysis. bam_coverage description This WDL task generates a BigWig coverage track using bamCoverage from DeepTools (https://deeptools.readthedocs.io/en/develop/index.html). Inputs Required _runtime (Any, required ) bam (File, required ): Input BAM format file to generate coverage for bam_index (File, required ): BAM index file corresponding to the input BAM Defaults max_retries (Int, default=1) memory_gb (Int, default=5) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) prefix (String, default=basename(bam,\".bam\")) use_all_cores (Boolean, default=false) Outputs bigwig (File)","title":"Deeptools"},{"location":"tasks/deeptools/#deeptools","text":"This WDL file wraps the DeepTools tool. DeepTools is a suite of Python tools for analysis of high throughput sequencing analysis.","title":"Deeptools"},{"location":"tasks/deeptools/#bam_coverage","text":"description This WDL task generates a BigWig coverage track using bamCoverage from DeepTools (https://deeptools.readthedocs.io/en/develop/index.html).","title":"bam_coverage"},{"location":"tasks/deeptools/#inputs","text":"","title":"Inputs"},{"location":"tasks/deeptools/#required","text":"_runtime (Any, required ) bam (File, required ): Input BAM format file to generate coverage for bam_index (File, required ): BAM index file corresponding to the input BAM","title":"Required"},{"location":"tasks/deeptools/#defaults","text":"max_retries (Int, default=1) memory_gb (Int, default=5) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) prefix (String, default=basename(bam,\".bam\")) use_all_cores (Boolean, default=false)","title":"Defaults"},{"location":"tasks/deeptools/#outputs","text":"bigwig (File)","title":"Outputs"},{"location":"tasks/estimate/","text":"ESTIMATE This WDL file wraps the ESTIMATE software package . calc_tpm Inputs Required _runtime (Any, required ) counts (File, required ): A two column headerless TSV file with gene names in the first column and counts (as integers) in the second column. Entries starting with '__' will be discarded. Can be generated with htseq.wdl . gene_lengths (File, required ): A two column headered TSV file with gene names (matching those in the counts file) in the first column and feature lengths (as integers) in the second column. Can be generated with calc-gene-lengths.wdl . Defaults disk_size_gb (Int, default=10): Disk space to allocate for task, specified in GB max_retries (Int, default=1): Number of times to retry in case of failure memory_gb (Int, default=4): RAM to allocate for task, specified in GB outfile_name (String, default=basename(counts,\".feature-counts.txt\") + \".TPM.txt\"): Name of the TPM file Outputs tpm_file (File) run_ESTIMATE Inputs Required _runtime (Any, required ) gene_expression_file (File, required ): A 2 column headered TSV file with 'Gene name' in the first column and gene expression values (as floats) in the second column. Can be generated with the calc_tpm task. Defaults disk_size_gb (Int, default=10): Disk space to allocate for task, specified in GB max_retries (Int, default=1): Number of times to retry in case of failure memory_gb (Int, default=4): RAM to allocate for task, specified in GB outfile_name (String, default=basename(gene_expression_file,\".TPM.txt\") + \".ESTIMATE.gct\"): Name of the ESTIMATE output file Outputs estimate_file (File)","title":"ESTIMATE"},{"location":"tasks/estimate/#estimate","text":"This WDL file wraps the ESTIMATE software package .","title":"ESTIMATE"},{"location":"tasks/estimate/#calc_tpm","text":"","title":"calc_tpm"},{"location":"tasks/estimate/#inputs","text":"","title":"Inputs"},{"location":"tasks/estimate/#required","text":"_runtime (Any, required ) counts (File, required ): A two column headerless TSV file with gene names in the first column and counts (as integers) in the second column. Entries starting with '__' will be discarded. Can be generated with htseq.wdl . gene_lengths (File, required ): A two column headered TSV file with gene names (matching those in the counts file) in the first column and feature lengths (as integers) in the second column. Can be generated with calc-gene-lengths.wdl .","title":"Required"},{"location":"tasks/estimate/#defaults","text":"disk_size_gb (Int, default=10): Disk space to allocate for task, specified in GB max_retries (Int, default=1): Number of times to retry in case of failure memory_gb (Int, default=4): RAM to allocate for task, specified in GB outfile_name (String, default=basename(counts,\".feature-counts.txt\") + \".TPM.txt\"): Name of the TPM file","title":"Defaults"},{"location":"tasks/estimate/#outputs","text":"tpm_file (File)","title":"Outputs"},{"location":"tasks/estimate/#run_estimate","text":"","title":"run_ESTIMATE"},{"location":"tasks/estimate/#inputs_1","text":"","title":"Inputs"},{"location":"tasks/estimate/#required_1","text":"_runtime (Any, required ) gene_expression_file (File, required ): A 2 column headered TSV file with 'Gene name' in the first column and gene expression values (as floats) in the second column. Can be generated with the calc_tpm task.","title":"Required"},{"location":"tasks/estimate/#defaults_1","text":"disk_size_gb (Int, default=10): Disk space to allocate for task, specified in GB max_retries (Int, default=1): Number of times to retry in case of failure memory_gb (Int, default=4): RAM to allocate for task, specified in GB outfile_name (String, default=basename(gene_expression_file,\".TPM.txt\") + \".ESTIMATE.gct\"): Name of the ESTIMATE output file","title":"Defaults"},{"location":"tasks/estimate/#outputs_1","text":"estimate_file (File)","title":"Outputs"},{"location":"tasks/fastqc/","text":"FastQC This WDL file wraps the FastQC tool. FastQC generates quality control metrics for sequencing pipelines. fastqc description This WDL task generates a FastQC quality control metrics report for the input BAM file. Inputs Required _runtime (Any, required ) bam (File, required ): Input BAM format file to run FastQC on Defaults max_retries (Int, default=1) memory_gb (Int, default=5) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) prefix (String, default=basename(bam,\".bam\") + \".fastqc_results\") use_all_cores (Boolean, default=false) Outputs raw_data (File) results (File)","title":"FastQC"},{"location":"tasks/fastqc/#fastqc","text":"This WDL file wraps the FastQC tool. FastQC generates quality control metrics for sequencing pipelines.","title":"FastQC"},{"location":"tasks/fastqc/#fastqc_1","text":"description This WDL task generates a FastQC quality control metrics report for the input BAM file.","title":"fastqc"},{"location":"tasks/fastqc/#inputs","text":"","title":"Inputs"},{"location":"tasks/fastqc/#required","text":"_runtime (Any, required ) bam (File, required ): Input BAM format file to run FastQC on","title":"Required"},{"location":"tasks/fastqc/#defaults","text":"max_retries (Int, default=1) memory_gb (Int, default=5) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) prefix (String, default=basename(bam,\".bam\") + \".fastqc_results\") use_all_cores (Boolean, default=false)","title":"Defaults"},{"location":"tasks/fastqc/#outputs","text":"raw_data (File) results (File)","title":"Outputs"},{"location":"tasks/fq/","text":"FQ This WDL file wraps the fq tool . The fq library provides methods for manipulating Illumina generated FASTQ files. fqlint description This WDL task performs quality control on the input FASTQs to ensure proper formatting. Inputs Required _runtime (Any, required ) read_one_fastq (File, required ): Input FASTQ with read one. Can be gzipped or uncompressed. Optional read_two_fastq (File?): Input FASTQ with read two. Can be gzipped or uncompressed. Defaults disable_validator_codes (Array[String], default=[]); description : Array of codes to disable specific validators; choices : {'S001': \"Plus line starts with a '+'\", 'S002': \"All characters in sequence line are one of 'ACGTN', case-insensitive\", 'S003': \"Name line starts with an '@'\", 'S004': 'All four record lines (name, sequence, plus line, and quality) are present', 'S005': 'Sequence and quality lengths are the same', 'S006': \"All characters in quality line are between '!' and '~' (ordinal values)\", 'S007': 'All record names are unique', 'P001': 'Each paired read name is the same, excluding interleave'} max_retries (Int, default=1) modify_disk_size_gb (Int, default=0) modify_memory_gb (Int, default=0) paired_read_validation_level (String, default=\"high\"); description : Only use paired read validators up to a given level; choices : ['low', 'medium', 'high'] panic (Boolean, default=true): Panic on first error (true) or log all errors (false)? single_read_validation_level (String, default=\"high\"); description : Only use single read validators up to a given level; choices : ['low', 'medium', 'high'] Outputs validated_read1 (File) validated_read2 (File?) subsample description This WDL task subsamples input FASTQs outputs {'subsampled_read1': 'Gzipped FASTQ file containing subsampled read1', 'subsampled_read2': 'Gzipped FASTQ file containing subsampled read2'} Inputs Required _runtime (Any, required ) read_one_fastq (File, required ): Input FASTQ with read one. Can be gzipped or uncompressed. Optional read_two_fastq (File?): Input FASTQ with read two. Can be gzipped or uncompressed. Defaults max_retries (Int, default=1): Number of times to retry in case of failure memory_gb (Int, default=4): RAM to allocate for task, specified in GB modify_disk_size_gb (Int, default=0): Add to or subtract from dynamic disk space allocation. Default disk size is determined by the size of the inputs. Specified in GB. prefix (String, default=sub(basename(read_one_fastq),\"([_.][rR][12])?(.subsampled)?.(fastq|fq)(.gz)?$\",\"\")): Prefix for the output FASTQ file(s). The extension _R1.subsampled.fastq.gz and _R2.subsampled.fastq.gz will be added. probability (Float, default=1.0): The probability a record is kept, as a decimal (0.0, 1.0). Cannot be used with record-count . Any probability<=0.0 or probability>=1.0 to disable. record_count (Int, default=-1): The exact number of records to keep. Cannot be used with probability . Any record_count<=0 to disable. Outputs subsampled_read1 (File) subsampled_read2 (File?)","title":"FQ"},{"location":"tasks/fq/#fq","text":"This WDL file wraps the fq tool . The fq library provides methods for manipulating Illumina generated FASTQ files.","title":"FQ"},{"location":"tasks/fq/#fqlint","text":"description This WDL task performs quality control on the input FASTQs to ensure proper formatting.","title":"fqlint"},{"location":"tasks/fq/#inputs","text":"","title":"Inputs"},{"location":"tasks/fq/#required","text":"_runtime (Any, required ) read_one_fastq (File, required ): Input FASTQ with read one. Can be gzipped or uncompressed.","title":"Required"},{"location":"tasks/fq/#optional","text":"read_two_fastq (File?): Input FASTQ with read two. Can be gzipped or uncompressed.","title":"Optional"},{"location":"tasks/fq/#defaults","text":"disable_validator_codes (Array[String], default=[]); description : Array of codes to disable specific validators; choices : {'S001': \"Plus line starts with a '+'\", 'S002': \"All characters in sequence line are one of 'ACGTN', case-insensitive\", 'S003': \"Name line starts with an '@'\", 'S004': 'All four record lines (name, sequence, plus line, and quality) are present', 'S005': 'Sequence and quality lengths are the same', 'S006': \"All characters in quality line are between '!' and '~' (ordinal values)\", 'S007': 'All record names are unique', 'P001': 'Each paired read name is the same, excluding interleave'} max_retries (Int, default=1) modify_disk_size_gb (Int, default=0) modify_memory_gb (Int, default=0) paired_read_validation_level (String, default=\"high\"); description : Only use paired read validators up to a given level; choices : ['low', 'medium', 'high'] panic (Boolean, default=true): Panic on first error (true) or log all errors (false)? single_read_validation_level (String, default=\"high\"); description : Only use single read validators up to a given level; choices : ['low', 'medium', 'high']","title":"Defaults"},{"location":"tasks/fq/#outputs","text":"validated_read1 (File) validated_read2 (File?)","title":"Outputs"},{"location":"tasks/fq/#subsample","text":"description This WDL task subsamples input FASTQs outputs {'subsampled_read1': 'Gzipped FASTQ file containing subsampled read1', 'subsampled_read2': 'Gzipped FASTQ file containing subsampled read2'}","title":"subsample"},{"location":"tasks/fq/#inputs_1","text":"","title":"Inputs"},{"location":"tasks/fq/#required_1","text":"_runtime (Any, required ) read_one_fastq (File, required ): Input FASTQ with read one. Can be gzipped or uncompressed.","title":"Required"},{"location":"tasks/fq/#optional_1","text":"read_two_fastq (File?): Input FASTQ with read two. Can be gzipped or uncompressed.","title":"Optional"},{"location":"tasks/fq/#defaults_1","text":"max_retries (Int, default=1): Number of times to retry in case of failure memory_gb (Int, default=4): RAM to allocate for task, specified in GB modify_disk_size_gb (Int, default=0): Add to or subtract from dynamic disk space allocation. Default disk size is determined by the size of the inputs. Specified in GB. prefix (String, default=sub(basename(read_one_fastq),\"([_.][rR][12])?(.subsampled)?.(fastq|fq)(.gz)?$\",\"\")): Prefix for the output FASTQ file(s). The extension _R1.subsampled.fastq.gz and _R2.subsampled.fastq.gz will be added. probability (Float, default=1.0): The probability a record is kept, as a decimal (0.0, 1.0). Cannot be used with record-count . Any probability<=0.0 or probability>=1.0 to disable. record_count (Int, default=-1): The exact number of records to keep. Cannot be used with probability . Any record_count<=0 to disable.","title":"Defaults"},{"location":"tasks/fq/#outputs_1","text":"subsampled_read1 (File) subsampled_read2 (File?)","title":"Outputs"},{"location":"tasks/htseq/","text":"HTSeq This WDL file wraps the htseq tool. HTSeq is a Python library for analyzing sequencing data. count description This WDL task performs read counting for a set of features in the input BAM file. Inputs Required _runtime (Any, required ) bam (File, required ): Input BAM format file to generate coverage for gtf (File, required ): Input genomic features in gzipped GTF format to count reads for strandedness (String, required ); description : Strandedness protocol of the RNA-Seq experiment. Read the HTSeq-count docs for an explanation of what this parameter affects.; choices : ['yes', 'reverse', 'no'] Defaults feature_type (String, default=\"exon\"): Feature type (3rd column in GTF file) to be used, all features of other type are ignored idattr (String, default=\"gene_name\"): GFF attribute to be used as feature ID max_retries (Int, default=1): Number of times to retry in case of failure minaqual (Int, default=10): Skip all reads with alignment quality lower than the given minimum value mode (String, default=\"union\"); description : Mode to handle reads overlapping more than one feature. union is recommended for most use-cases. Read the HTSeq-count docs for an explanation of what this parameter affects.; choices : ['union', 'intersection-strict', 'intersection-nonempty'] modify_disk_size_gb (Int, default=0): Add to or subtract from dynamic disk space allocation. Default disk size is determined by the size of the inputs. Specified in GB. modify_memory_gb (Int, default=0): Add to or subtract from dynamic memory allocation. Default memory is determined by the size of the inputs. Specified in GB. nonunique (Boolean, default=false): Score reads that align to or are assigned to more than one feature? outfile_name (String, default=basename(bam,\".bam\") + \".feature-counts.txt\"): Name of the feature count file pos_sorted (Boolean, default=true): Is the BAM position sorted (true) or name sorted (false)? secondary_alignments (Boolean, default=false): Score secondary alignments (SAM flag 0x100)? supplementary_alignments (Boolean, default=false): Score supplementary/chimeric alignments (SAM flag 0x800)? Outputs feature_counts (File)","title":"HTSeq"},{"location":"tasks/htseq/#htseq","text":"This WDL file wraps the htseq tool. HTSeq is a Python library for analyzing sequencing data.","title":"HTSeq"},{"location":"tasks/htseq/#count","text":"description This WDL task performs read counting for a set of features in the input BAM file.","title":"count"},{"location":"tasks/htseq/#inputs","text":"","title":"Inputs"},{"location":"tasks/htseq/#required","text":"_runtime (Any, required ) bam (File, required ): Input BAM format file to generate coverage for gtf (File, required ): Input genomic features in gzipped GTF format to count reads for strandedness (String, required ); description : Strandedness protocol of the RNA-Seq experiment. Read the HTSeq-count docs for an explanation of what this parameter affects.; choices : ['yes', 'reverse', 'no']","title":"Required"},{"location":"tasks/htseq/#defaults","text":"feature_type (String, default=\"exon\"): Feature type (3rd column in GTF file) to be used, all features of other type are ignored idattr (String, default=\"gene_name\"): GFF attribute to be used as feature ID max_retries (Int, default=1): Number of times to retry in case of failure minaqual (Int, default=10): Skip all reads with alignment quality lower than the given minimum value mode (String, default=\"union\"); description : Mode to handle reads overlapping more than one feature. union is recommended for most use-cases. Read the HTSeq-count docs for an explanation of what this parameter affects.; choices : ['union', 'intersection-strict', 'intersection-nonempty'] modify_disk_size_gb (Int, default=0): Add to or subtract from dynamic disk space allocation. Default disk size is determined by the size of the inputs. Specified in GB. modify_memory_gb (Int, default=0): Add to or subtract from dynamic memory allocation. Default memory is determined by the size of the inputs. Specified in GB. nonunique (Boolean, default=false): Score reads that align to or are assigned to more than one feature? outfile_name (String, default=basename(bam,\".bam\") + \".feature-counts.txt\"): Name of the feature count file pos_sorted (Boolean, default=true): Is the BAM position sorted (true) or name sorted (false)? secondary_alignments (Boolean, default=false): Score secondary alignments (SAM flag 0x100)? supplementary_alignments (Boolean, default=false): Score supplementary/chimeric alignments (SAM flag 0x800)?","title":"Defaults"},{"location":"tasks/htseq/#outputs","text":"feature_counts (File)","title":"Outputs"},{"location":"tasks/kraken2/","text":"Kraken2 Methods for bootstrapping and running Kraken2 download_taxonomy description This WDL task downloads the NCBI taxonomy which Kraken2 uses to create a tree and taxon map during the database build. Inputs Required _runtime (Any, required ) Defaults disk_size_gb (Int, default=60): Disk space to allocate for task max_retries (Int, default=3): Number of times to retry in case of failure memory_gb (Int, default=4): RAM to allocate for task protein (Boolean, default=false): Construct a protein database? Outputs taxonomy (File) download_library description This WDL task downloads a predefined library of reference genomes from NCBI. Detailed organism list for libraries (except nt) available at: https://ftp.ncbi.nlm.nih.gov/genomes/refseq/. Inputs Required _runtime (Any, required ) library_name (String, required ); description : Library to download. Note that protein must equal true if downloading the nr library, and protein must equal false if downloading the UniVec or UniVec_Core library.; choices : ['archaea', 'bacteria', 'plasmid', 'viral', 'human', 'fungi', 'plant', 'protozoa', 'nt', 'nr', 'UniVec', 'UniVec_Core'] Defaults max_retries (Int, default=3): Number of times to retry in case of failure memory_gb (Int, default=4): RAM to allocate for task, specified in GB modify_disk_size_gb (Int, default=0): Add to or subtract from dynamic disk space allocation, specified in GB. Default disk size is determined dynamically based on library_name . Note that the default sizes are adequate as of April 2023, but new genomes are constantly being added to the NCBI database. More disk space may be required depending on when in the future this task is run. protein (Boolean, default=false): Construct a protein database? Outputs library (File) create_library_from_fastas description This WDL task adds custom entries from FASTA files to a Kraken2 DB. Inputs Required _runtime (Any, required ) fastas (Array[File], required ): Array of gzipped FASTA files. Each FASTA sequence ID must contain either an NCBI accession number or an explicit assignment of the taxonomy ID using kraken:taxid Defaults max_retries (Int, default=1): Number of times to retry in case of failure memory_gb (Int, default=4): RAM to allocate for task, specified in GB modify_disk_size_gb (Int, default=0): Add to or subtract from dynamic disk space allocation. Default disk size is determined by the size of the inputs. Specified in GB. protein (Boolean, default=false): Construct a protein database? Outputs custom_library (File) build_db description This WDL task builds a custom Kraken2 database. Inputs Required _runtime (Any, required ) tarballs (Array[File], required ): Tarballs containing the NCBI taxonomy (generated by the download_taxonomy task) and at least one library (generated by the download_library task). Tarballs must not have a root directory. Defaults db_name (String, default=\"kraken2_db\"): Name for output in compressed, archived format. The suffix .tar.gz will be added. kmer_len (Int, default=if protein then 15 else 35): K-mer length in bp that will be used to build the database max_db_size_gb (Int, default=-1): Maximum number of GBs for Kraken 2 hash table; if the Kraken 2 estimator determines more would normally be needed, the reference library will be downsampled to fit. max_retries (Int, default=1): Number of times to retry in case of failure minimizer_len (Int, default=if protein then 12 else 31): Minimizer length in bp that will be used to build the database minimizer_spaces (Int, default=if protein then 0 else 7): Number of characters in minimizer that are ignored in comparisons modify_disk_size_gb (Int, default=0): Add to or subtract from dynamic disk space allocation. Default disk size is determined by the size of the inputs. Specified in GB. modify_memory_gb (Int, default=0): Add to or subtract from dynamic memory allocation. Default memory is determined by the size of the inputs. Specified in GB. ncpu (Int, default=1): Number of cores to allocate for task protein (Boolean, default=false): Construct a protein database? use_all_cores (Boolean, default=false): Use all cores. Recommended for cloud environments. Not recommended for cluster environments. Outputs built_db (File) kraken description This WDL tool runs Kraken2 on a pair of fastq files. Inputs Required _runtime (Any, required ) db (File, required ): Kraken2 database. Can be generated with make-qc-reference.wdl . Must be a tarball without a root directory. read_one_fastq_gz (File, required ): Gzipped FASTQ file with 1st reads in pair read_two_fastq_gz (File, required ): Gzipped FASTQ file with 2nd reads in pair Defaults max_retries (Int, default=1): Number of times to retry in case of failure min_base_quality (Int, default=0): Minimum base quality used in classification modify_disk_size_gb (Int, default=0): Add to or subtract from dynamic disk space allocation. Default disk size is determined by the size of the inputs. Specified in GB. modify_memory_gb (Int, default=0): Add to or subtract from dynamic memory allocation. Default memory is determined by the size of the inputs. Specified in GB. ncpu (Int, default=1): Number of cores to allocate for task prefix (String, default=sub(basename(read_one_fastq_gz),\"([_.][rR][12])?(.subsampled)?.(fastq|fq)(.gz)?$\",\"\")): Prefix for the Kraken2 output files. The extensions .kraken2.txt and .kraken2.sequences.txt.gz will be added. store_sequences (Boolean, default=false): Store and output main Kraken2 output in addition to the summary report use_all_cores (Boolean, default=false): Use all cores? Recommended for cloud environments. Not recommended for cluster environments. use_names (Boolean, default=true): Print scientific names instead of just taxids Outputs report (File) sequences (File?)","title":"Kraken2"},{"location":"tasks/kraken2/#kraken2","text":"Methods for bootstrapping and running Kraken2","title":"Kraken2"},{"location":"tasks/kraken2/#download_taxonomy","text":"description This WDL task downloads the NCBI taxonomy which Kraken2 uses to create a tree and taxon map during the database build.","title":"download_taxonomy"},{"location":"tasks/kraken2/#inputs","text":"","title":"Inputs"},{"location":"tasks/kraken2/#required","text":"_runtime (Any, required )","title":"Required"},{"location":"tasks/kraken2/#defaults","text":"disk_size_gb (Int, default=60): Disk space to allocate for task max_retries (Int, default=3): Number of times to retry in case of failure memory_gb (Int, default=4): RAM to allocate for task protein (Boolean, default=false): Construct a protein database?","title":"Defaults"},{"location":"tasks/kraken2/#outputs","text":"taxonomy (File)","title":"Outputs"},{"location":"tasks/kraken2/#download_library","text":"description This WDL task downloads a predefined library of reference genomes from NCBI. Detailed organism list for libraries (except nt) available at: https://ftp.ncbi.nlm.nih.gov/genomes/refseq/.","title":"download_library"},{"location":"tasks/kraken2/#inputs_1","text":"","title":"Inputs"},{"location":"tasks/kraken2/#required_1","text":"_runtime (Any, required ) library_name (String, required ); description : Library to download. Note that protein must equal true if downloading the nr library, and protein must equal false if downloading the UniVec or UniVec_Core library.; choices : ['archaea', 'bacteria', 'plasmid', 'viral', 'human', 'fungi', 'plant', 'protozoa', 'nt', 'nr', 'UniVec', 'UniVec_Core']","title":"Required"},{"location":"tasks/kraken2/#defaults_1","text":"max_retries (Int, default=3): Number of times to retry in case of failure memory_gb (Int, default=4): RAM to allocate for task, specified in GB modify_disk_size_gb (Int, default=0): Add to or subtract from dynamic disk space allocation, specified in GB. Default disk size is determined dynamically based on library_name . Note that the default sizes are adequate as of April 2023, but new genomes are constantly being added to the NCBI database. More disk space may be required depending on when in the future this task is run. protein (Boolean, default=false): Construct a protein database?","title":"Defaults"},{"location":"tasks/kraken2/#outputs_1","text":"library (File)","title":"Outputs"},{"location":"tasks/kraken2/#create_library_from_fastas","text":"description This WDL task adds custom entries from FASTA files to a Kraken2 DB.","title":"create_library_from_fastas"},{"location":"tasks/kraken2/#inputs_2","text":"","title":"Inputs"},{"location":"tasks/kraken2/#required_2","text":"_runtime (Any, required ) fastas (Array[File], required ): Array of gzipped FASTA files. Each FASTA sequence ID must contain either an NCBI accession number or an explicit assignment of the taxonomy ID using kraken:taxid","title":"Required"},{"location":"tasks/kraken2/#defaults_2","text":"max_retries (Int, default=1): Number of times to retry in case of failure memory_gb (Int, default=4): RAM to allocate for task, specified in GB modify_disk_size_gb (Int, default=0): Add to or subtract from dynamic disk space allocation. Default disk size is determined by the size of the inputs. Specified in GB. protein (Boolean, default=false): Construct a protein database?","title":"Defaults"},{"location":"tasks/kraken2/#outputs_2","text":"custom_library (File)","title":"Outputs"},{"location":"tasks/kraken2/#build_db","text":"description This WDL task builds a custom Kraken2 database.","title":"build_db"},{"location":"tasks/kraken2/#inputs_3","text":"","title":"Inputs"},{"location":"tasks/kraken2/#required_3","text":"_runtime (Any, required ) tarballs (Array[File], required ): Tarballs containing the NCBI taxonomy (generated by the download_taxonomy task) and at least one library (generated by the download_library task). Tarballs must not have a root directory.","title":"Required"},{"location":"tasks/kraken2/#defaults_3","text":"db_name (String, default=\"kraken2_db\"): Name for output in compressed, archived format. The suffix .tar.gz will be added. kmer_len (Int, default=if protein then 15 else 35): K-mer length in bp that will be used to build the database max_db_size_gb (Int, default=-1): Maximum number of GBs for Kraken 2 hash table; if the Kraken 2 estimator determines more would normally be needed, the reference library will be downsampled to fit. max_retries (Int, default=1): Number of times to retry in case of failure minimizer_len (Int, default=if protein then 12 else 31): Minimizer length in bp that will be used to build the database minimizer_spaces (Int, default=if protein then 0 else 7): Number of characters in minimizer that are ignored in comparisons modify_disk_size_gb (Int, default=0): Add to or subtract from dynamic disk space allocation. Default disk size is determined by the size of the inputs. Specified in GB. modify_memory_gb (Int, default=0): Add to or subtract from dynamic memory allocation. Default memory is determined by the size of the inputs. Specified in GB. ncpu (Int, default=1): Number of cores to allocate for task protein (Boolean, default=false): Construct a protein database? use_all_cores (Boolean, default=false): Use all cores. Recommended for cloud environments. Not recommended for cluster environments.","title":"Defaults"},{"location":"tasks/kraken2/#outputs_3","text":"built_db (File)","title":"Outputs"},{"location":"tasks/kraken2/#kraken","text":"description This WDL tool runs Kraken2 on a pair of fastq files.","title":"kraken"},{"location":"tasks/kraken2/#inputs_4","text":"","title":"Inputs"},{"location":"tasks/kraken2/#required_4","text":"_runtime (Any, required ) db (File, required ): Kraken2 database. Can be generated with make-qc-reference.wdl . Must be a tarball without a root directory. read_one_fastq_gz (File, required ): Gzipped FASTQ file with 1st reads in pair read_two_fastq_gz (File, required ): Gzipped FASTQ file with 2nd reads in pair","title":"Required"},{"location":"tasks/kraken2/#defaults_4","text":"max_retries (Int, default=1): Number of times to retry in case of failure min_base_quality (Int, default=0): Minimum base quality used in classification modify_disk_size_gb (Int, default=0): Add to or subtract from dynamic disk space allocation. Default disk size is determined by the size of the inputs. Specified in GB. modify_memory_gb (Int, default=0): Add to or subtract from dynamic memory allocation. Default memory is determined by the size of the inputs. Specified in GB. ncpu (Int, default=1): Number of cores to allocate for task prefix (String, default=sub(basename(read_one_fastq_gz),\"([_.][rR][12])?(.subsampled)?.(fastq|fq)(.gz)?$\",\"\")): Prefix for the Kraken2 output files. The extensions .kraken2.txt and .kraken2.sequences.txt.gz will be added. store_sequences (Boolean, default=false): Store and output main Kraken2 output in addition to the summary report use_all_cores (Boolean, default=false): Use all cores? Recommended for cloud environments. Not recommended for cluster environments. use_names (Boolean, default=true): Print scientific names instead of just taxids","title":"Defaults"},{"location":"tasks/kraken2/#outputs_4","text":"report (File) sequences (File?)","title":"Outputs"},{"location":"tasks/md5sum/","text":"This WDL file wraps the md5sum tool from the GNU core utilities . md5sum is a utility for generating and verifying MD5 hashes. compute_checksum description This WDL task generates an MD5 checksum for the input file. Inputs Required _runtime (Any, required ) file (File, required ): Input file to generate MD5 checksum for Defaults max_retries (Int, default=1) memory_gb (Int, default=5) modify_disk_size_gb (Int, default=0) Outputs md5sum (File)","title":"Md5sum"},{"location":"tasks/md5sum/#compute_checksum","text":"description This WDL task generates an MD5 checksum for the input file.","title":"compute_checksum"},{"location":"tasks/md5sum/#inputs","text":"","title":"Inputs"},{"location":"tasks/md5sum/#required","text":"_runtime (Any, required ) file (File, required ): Input file to generate MD5 checksum for","title":"Required"},{"location":"tasks/md5sum/#defaults","text":"max_retries (Int, default=1) memory_gb (Int, default=5) modify_disk_size_gb (Int, default=0)","title":"Defaults"},{"location":"tasks/md5sum/#outputs","text":"md5sum (File)","title":"Outputs"},{"location":"tasks/mosdepth/","text":"Mosdepth This WDL file wraps the mosdepth tool . coverage description This WDL task wraps the Mosdepth tool for calculating coverage Inputs Required _runtime (Any, required ) bam (File, required ) bam_index (File, required ) Optional coverage_bed (File?) Defaults max_retries (Int, default=1) memory_gb (Int, default=8) min_mapping_quality (Int, default=20) modify_disk_size_gb (Int, default=0) prefix (String, default=basename(bam,'.bam')) use_fast_mode (Boolean, default=true) Outputs summary (File) global_dist (File) region_dist (File?)","title":"Mosdepth"},{"location":"tasks/mosdepth/#mosdepth","text":"This WDL file wraps the mosdepth tool .","title":"Mosdepth"},{"location":"tasks/mosdepth/#coverage","text":"description This WDL task wraps the Mosdepth tool for calculating coverage","title":"coverage"},{"location":"tasks/mosdepth/#inputs","text":"","title":"Inputs"},{"location":"tasks/mosdepth/#required","text":"_runtime (Any, required ) bam (File, required ) bam_index (File, required )","title":"Required"},{"location":"tasks/mosdepth/#optional","text":"coverage_bed (File?)","title":"Optional"},{"location":"tasks/mosdepth/#defaults","text":"max_retries (Int, default=1) memory_gb (Int, default=8) min_mapping_quality (Int, default=20) modify_disk_size_gb (Int, default=0) prefix (String, default=basename(bam,'.bam')) use_fast_mode (Boolean, default=true)","title":"Defaults"},{"location":"tasks/mosdepth/#outputs","text":"summary (File) global_dist (File) region_dist (File?)","title":"Outputs"},{"location":"tasks/multiqc/","text":"MultiQC This WDL file wraps the MultiQC tool. MultiQC aggregates quality control results for bioinformatics. multiqc description This WDL task generates a MultiQC quality control metrics report summary from input QC result files. Inputs Required _runtime (Any, required ) input_files (Array[File], required ): An array of files for MultiQC to compile into a report. Invalid files will be gracefully ignored by MultiQC. prefix (String, required ): A string for the MultiQC output directory: / and .tar.gz Optional config (File?): YAML file for configuring generated report Defaults max_retries (Int, default=1) memory_gb (Int, default=5): RAM to allocate for task, specified in GB modify_disk_size_gb (Int, default=0): Add to or subtract from dynamic disk space allocation. Default disk size is determined by the size of the inputs. Specified in GB. Outputs multiqc_report (File)","title":"MultiQC"},{"location":"tasks/multiqc/#multiqc","text":"This WDL file wraps the MultiQC tool. MultiQC aggregates quality control results for bioinformatics.","title":"MultiQC"},{"location":"tasks/multiqc/#multiqc_1","text":"description This WDL task generates a MultiQC quality control metrics report summary from input QC result files.","title":"multiqc"},{"location":"tasks/multiqc/#inputs","text":"","title":"Inputs"},{"location":"tasks/multiqc/#required","text":"_runtime (Any, required ) input_files (Array[File], required ): An array of files for MultiQC to compile into a report. Invalid files will be gracefully ignored by MultiQC. prefix (String, required ): A string for the MultiQC output directory: / and .tar.gz","title":"Required"},{"location":"tasks/multiqc/#optional","text":"config (File?): YAML file for configuring generated report","title":"Optional"},{"location":"tasks/multiqc/#defaults","text":"max_retries (Int, default=1) memory_gb (Int, default=5): RAM to allocate for task, specified in GB modify_disk_size_gb (Int, default=0): Add to or subtract from dynamic disk space allocation. Default disk size is determined by the size of the inputs. Specified in GB.","title":"Defaults"},{"location":"tasks/multiqc/#outputs","text":"multiqc_report (File)","title":"Outputs"},{"location":"tasks/ngsderive/","text":"ngsderive This WDL file wraps the ngsderive package infer_strandedness Inputs Required _runtime (Any, required ) bam (File, required ) bam_index (File, required ) gtf (File, required ) Defaults max_retries (Int, default=1) memory_gb (Int, default=5) min_mapq (Int, default=30) min_reads_per_gene (Int, default=10) modify_disk_size_gb (Int, default=0) num_genes (Int, default=1000) outfile_name (String, default=basename(bam,\".bam\") + \".strandedness.tsv\") Outputs strandedness (String) strandedness_file (File) instrument Inputs Required _runtime (Any, required ) bam (File, required ) Defaults max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0) num_samples (Int, default=10000) outfile_name (String, default=basename(bam,\".bam\") + \".instrument.tsv\") Outputs instrument_file (File) read_length Inputs Required _runtime (Any, required ) bam (File, required ) bam_index (File, required ) Defaults majority_vote_cutoff (Float, default=0.7) max_retries (Int, default=1) memory_gb (Int, default=5) modify_disk_size_gb (Int, default=0) num_samples (Int, default=-1) outfile_name (String, default=basename(bam,\".bam\") + \".readlength.tsv\") Outputs read_length_file (File) encoding Inputs Required _runtime (Any, required ) ngs_files (Array[File], required ) outfile_name (String, required ) Defaults max_retries (Int, default=1) memory_gb (Int, default=5) modify_disk_size_gb (Int, default=0) num_samples (Int, default=1000000) Outputs inferred_encoding (String) encoding_file (File) junction_annotation Inputs Required _runtime (Any, required ) bam (File, required ) bam_index (File, required ) gtf (File, required ) Defaults fuzzy_junction_match_range (Int, default=0) max_retries (Int, default=1) memory_gb (Int, default=56) min_intron (Int, default=50) min_mapq (Int, default=30) min_reads (Int, default=2) modify_disk_size_gb (Int, default=0) prefix (String, default=basename(bam,\".bam\")) Outputs junction_summary (File) junctions (File)","title":"ngsderive"},{"location":"tasks/ngsderive/#ngsderive","text":"This WDL file wraps the ngsderive package","title":"ngsderive"},{"location":"tasks/ngsderive/#infer_strandedness","text":"","title":"infer_strandedness"},{"location":"tasks/ngsderive/#inputs","text":"","title":"Inputs"},{"location":"tasks/ngsderive/#required","text":"_runtime (Any, required ) bam (File, required ) bam_index (File, required ) gtf (File, required )","title":"Required"},{"location":"tasks/ngsderive/#defaults","text":"max_retries (Int, default=1) memory_gb (Int, default=5) min_mapq (Int, default=30) min_reads_per_gene (Int, default=10) modify_disk_size_gb (Int, default=0) num_genes (Int, default=1000) outfile_name (String, default=basename(bam,\".bam\") + \".strandedness.tsv\")","title":"Defaults"},{"location":"tasks/ngsderive/#outputs","text":"strandedness (String) strandedness_file (File)","title":"Outputs"},{"location":"tasks/ngsderive/#instrument","text":"","title":"instrument"},{"location":"tasks/ngsderive/#inputs_1","text":"","title":"Inputs"},{"location":"tasks/ngsderive/#required_1","text":"_runtime (Any, required ) bam (File, required )","title":"Required"},{"location":"tasks/ngsderive/#defaults_1","text":"max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0) num_samples (Int, default=10000) outfile_name (String, default=basename(bam,\".bam\") + \".instrument.tsv\")","title":"Defaults"},{"location":"tasks/ngsderive/#outputs_1","text":"instrument_file (File)","title":"Outputs"},{"location":"tasks/ngsderive/#read_length","text":"","title":"read_length"},{"location":"tasks/ngsderive/#inputs_2","text":"","title":"Inputs"},{"location":"tasks/ngsderive/#required_2","text":"_runtime (Any, required ) bam (File, required ) bam_index (File, required )","title":"Required"},{"location":"tasks/ngsderive/#defaults_2","text":"majority_vote_cutoff (Float, default=0.7) max_retries (Int, default=1) memory_gb (Int, default=5) modify_disk_size_gb (Int, default=0) num_samples (Int, default=-1) outfile_name (String, default=basename(bam,\".bam\") + \".readlength.tsv\")","title":"Defaults"},{"location":"tasks/ngsderive/#outputs_2","text":"read_length_file (File)","title":"Outputs"},{"location":"tasks/ngsderive/#encoding","text":"","title":"encoding"},{"location":"tasks/ngsderive/#inputs_3","text":"","title":"Inputs"},{"location":"tasks/ngsderive/#required_3","text":"_runtime (Any, required ) ngs_files (Array[File], required ) outfile_name (String, required )","title":"Required"},{"location":"tasks/ngsderive/#defaults_3","text":"max_retries (Int, default=1) memory_gb (Int, default=5) modify_disk_size_gb (Int, default=0) num_samples (Int, default=1000000)","title":"Defaults"},{"location":"tasks/ngsderive/#outputs_3","text":"inferred_encoding (String) encoding_file (File)","title":"Outputs"},{"location":"tasks/ngsderive/#junction_annotation","text":"","title":"junction_annotation"},{"location":"tasks/ngsderive/#inputs_4","text":"","title":"Inputs"},{"location":"tasks/ngsderive/#required_4","text":"_runtime (Any, required ) bam (File, required ) bam_index (File, required ) gtf (File, required )","title":"Required"},{"location":"tasks/ngsderive/#defaults_4","text":"fuzzy_junction_match_range (Int, default=0) max_retries (Int, default=1) memory_gb (Int, default=56) min_intron (Int, default=50) min_mapq (Int, default=30) min_reads (Int, default=2) modify_disk_size_gb (Int, default=0) prefix (String, default=basename(bam,\".bam\"))","title":"Defaults"},{"location":"tasks/ngsderive/#outputs_4","text":"junction_summary (File) junctions (File)","title":"Outputs"},{"location":"tasks/picard/","text":"Picard This WDL file wraps the PicardTools library . PicardTools is a set of Java tools for manipulating sequencing data. mark_duplicates description This WDL task marks duplicate reads in the input BAM file using Picard. Inputs Required _runtime (Any, required ) bam (File, required ): Input BAM format file to mark duplicates Defaults create_bam (Boolean, default=true) max_retries (Int, default=1) memory_gb (Int, default=50) modify_disk_size_gb (Int, default=0) prefix (String, default=basename(bam,\".bam\") + \".MarkDuplicates\") Outputs duplicate_marked_bam (File?) duplicate_marked_bam_index (File?) duplicate_marked_bam_md5 (File?) mark_duplicates_metrics (File) validate_bam description This WDL task validates the input BAM file for correct formatting using Picard. Inputs Required _runtime (Any, required ) bam (File, required ): Input BAM format file to validate Optional reference_fasta (File?): Reference genome in FASTA format. Presence of the reference FASTA allows for NM tag validation. Defaults ignore_list (Array[String], default=[\"MISSING_PLATFORM_VALUE\", \"INVALID_PLATFORM_VALUE\", \"INVALID_MAPPING_QUALITY\"]): List of Picard errors and warnings to ignore. Possible values can be found on the GATK website index_validation_stringency_less_exhaustive (Boolean, default=false): Set INDEX_VALIDATION_STRINGENCY=LESS_EXHAUSTIVE ? max_errors (Int, default=2147483647): Set the value of MAX_OUTPUT for picard ValidateSamFile . The Picard default is 100, a lower number can enable fast fail behavior max_retries (Int, default=1): Number of times to retry in case of failure memory_gb (Int, default=16): RAM to allocate for task, specified in GB modify_disk_size_gb (Int, default=0): Add to or subtract from dynamic disk space allocation. Default disk size is determined by the size of the inputs. Specified in GB. outfile_name (String, default=basename(bam,\".bam\") + \".ValidateSamFile.txt\"): Name for the ValidateSamFile report file succeed_on_errors (Boolean, default=false): Succeed the task even if errors and/or warnings are detected succeed_on_warnings (Boolean, default=true): Succeed the task if warnings are detected and there are no errors. Overridden by succeed_on_errors summary_mode (Boolean, default=false): Enable SUMMARY mode? Outputs validate_report (File) validated_bam (File) bam_to_fastq description [Deprecated] This WDL task converts the input BAM file into FASTQ format files. This task has been deprecated in favor of samtools.collate_to_fastq which is more performant and doesn't error on 'illegal mate states'. Inputs Required _runtime (Any, required ) bam (File, required ): Input BAM format file to convert to FASTQ Defaults max_retries (Int, default=1): Number of times to retry failed steps memory_gb (Int, default=56) modify_disk_size_gb (Int, default=0) paired (Boolean, default=true): Is the data paired-end (true) or single-end (false)? prefix (String, default=basename(bam,\".bam\")) Outputs read_one_fastq_gz (File) read_two_fastq_gz (File?) sort description This WDL task sorts the input BAM file. Inputs Required _runtime (Any, required ) bam (File, required ): Input BAM format file to sort Defaults max_retries (Int, default=1) memory_gb (Int, default=25) modify_disk_size_gb (Int, default=0) prefix (String, default=basename(bam,\".bam\") + \".sorted\") sort_order (String, default=\"coordinate\") Outputs sorted_bam (File) merge_sam_files description This WDL task merges the input BAM files into a single BAM file. Inputs Required _runtime (Any, required ) bams (Array[File], required ): Input BAMs to merge prefix (String, required ) Defaults max_retries (Int, default=1) memory_gb (Int, default=40) modify_disk_size_gb (Int, default=0) sort_order (String, default=\"coordinate\") threading (Boolean, default=true): Option to create a background thread to encode, compress and write to disk the output file. The threaded version uses about 20% more CPU and decreases runtime by ~20% when writing out a compressed BAM file. Outputs merged_bam (File) clean_sam description This WDL task cleans the input BAM file. Cleans soft-clipping beyond end-of-reference, sets MAPQ=0 for unmapped reads Inputs Required _runtime (Any, required ) bam (File, required ): Input BAM format file to clean Defaults max_retries (Int, default=1) memory_gb (Int, default=25) modify_disk_size_gb (Int, default=0) prefix (String, default=basename(bam,\".bam\") + \".cleaned\") Outputs cleaned_bam (File) collect_wgs_metrics description This WDL task runs picard CollectWgsMetrics to collect metrics about the fractions of reads that pass base- and mapping-quality filters as well as coverage (read-depth) levels. Inputs Required _runtime (Any, required ) bam (File, required ): Input BAM format file for which to calculate WGS metrics reference_fasta (File, required ) Defaults max_retries (Int, default=1) memory_gb (Int, default=12) modify_disk_size_gb (Int, default=0) outfile_name (String, default=basename(bam,\".bam\") + \".CollectWgsMetrics.txt\") Outputs wgs_metrics (File) collect_alignment_summary_metrics author Andrew Frantz email andrew.frantz@stjude.org description This WDL task runs picard CollectAlignmentSummaryMetrics to calculate metrics detailing the quality of the read alignments as well as the proportion of the reads that passed machine signal-to-noise threshold quality filters. Inputs Required _runtime (Any, required ) bam (File, required ): Input BAM format file for which to calculate alignment metrics Defaults max_retries (Int, default=1) memory_gb (Int, default=8) modify_disk_size_gb (Int, default=0) prefix (String, default=basename(bam,\".bam\") + \".CollectAlignmentSummaryMetrics\") Outputs alignment_metrics (File) alignment_metrics_pdf (File) collect_gc_bias_metrics description This WDL task runs picard CollectGcBiasMetrics to collect information about the relative proportions of guanine (G) and cytosine (C) nucleotides. Inputs Required _runtime (Any, required ) bam (File, required ): Input BAM format file for which to calculate GC bias metrics reference_fasta (File, required ) Defaults max_retries (Int, default=1) memory_gb (Int, default=8) modify_disk_size_gb (Int, default=0) prefix (String, default=basename(bam,\".bam\") + \".CollectGcBiasMetrics\") Outputs gc_bias_metrics (File) gc_bias_metrics_summary (File) gc_bias_metrics_pdf (File) collect_insert_size_metrics description This WDL task runs picard CollectInsertSizeMetrics to collect metrics for validating library construction including the insert size distribution and read orientation of paired-end libraries. Inputs Required _runtime (Any, required ) bam (File, required ): Input BAM format file for which to calculate insert size metrics Defaults max_retries (Int, default=1) memory_gb (Int, default=8) modify_disk_size_gb (Int, default=0) prefix (String, default=basename(bam,\".bam\") + \".CollectInsertSizeMetrics\") Outputs insert_size_metrics (File) insert_size_metrics_pdf (File) quality_score_distribution description This WDL task runs picard QualityScoreDistribution to calculate the range of quality scores and an accompanying chart. Inputs Required _runtime (Any, required ) bam (File, required ): Input BAM format file for which to calculate quality score distribution Defaults max_retries (Int, default=1) memory_gb (Int, default=8) modify_disk_size_gb (Int, default=0) prefix (String, default=basename(bam,\".bam\") + \".QualityScoreDistribution\") Outputs quality_score_distribution_txt (File) quality_score_distribution_pdf (File)","title":"Picard"},{"location":"tasks/picard/#picard","text":"This WDL file wraps the PicardTools library . PicardTools is a set of Java tools for manipulating sequencing data.","title":"Picard"},{"location":"tasks/picard/#mark_duplicates","text":"description This WDL task marks duplicate reads in the input BAM file using Picard.","title":"mark_duplicates"},{"location":"tasks/picard/#inputs","text":"","title":"Inputs"},{"location":"tasks/picard/#required","text":"_runtime (Any, required ) bam (File, required ): Input BAM format file to mark duplicates","title":"Required"},{"location":"tasks/picard/#defaults","text":"create_bam (Boolean, default=true) max_retries (Int, default=1) memory_gb (Int, default=50) modify_disk_size_gb (Int, default=0) prefix (String, default=basename(bam,\".bam\") + \".MarkDuplicates\")","title":"Defaults"},{"location":"tasks/picard/#outputs","text":"duplicate_marked_bam (File?) duplicate_marked_bam_index (File?) duplicate_marked_bam_md5 (File?) mark_duplicates_metrics (File)","title":"Outputs"},{"location":"tasks/picard/#validate_bam","text":"description This WDL task validates the input BAM file for correct formatting using Picard.","title":"validate_bam"},{"location":"tasks/picard/#inputs_1","text":"","title":"Inputs"},{"location":"tasks/picard/#required_1","text":"_runtime (Any, required ) bam (File, required ): Input BAM format file to validate","title":"Required"},{"location":"tasks/picard/#optional","text":"reference_fasta (File?): Reference genome in FASTA format. Presence of the reference FASTA allows for NM tag validation.","title":"Optional"},{"location":"tasks/picard/#defaults_1","text":"ignore_list (Array[String], default=[\"MISSING_PLATFORM_VALUE\", \"INVALID_PLATFORM_VALUE\", \"INVALID_MAPPING_QUALITY\"]): List of Picard errors and warnings to ignore. Possible values can be found on the GATK website index_validation_stringency_less_exhaustive (Boolean, default=false): Set INDEX_VALIDATION_STRINGENCY=LESS_EXHAUSTIVE ? max_errors (Int, default=2147483647): Set the value of MAX_OUTPUT for picard ValidateSamFile . The Picard default is 100, a lower number can enable fast fail behavior max_retries (Int, default=1): Number of times to retry in case of failure memory_gb (Int, default=16): RAM to allocate for task, specified in GB modify_disk_size_gb (Int, default=0): Add to or subtract from dynamic disk space allocation. Default disk size is determined by the size of the inputs. Specified in GB. outfile_name (String, default=basename(bam,\".bam\") + \".ValidateSamFile.txt\"): Name for the ValidateSamFile report file succeed_on_errors (Boolean, default=false): Succeed the task even if errors and/or warnings are detected succeed_on_warnings (Boolean, default=true): Succeed the task if warnings are detected and there are no errors. Overridden by succeed_on_errors summary_mode (Boolean, default=false): Enable SUMMARY mode?","title":"Defaults"},{"location":"tasks/picard/#outputs_1","text":"validate_report (File) validated_bam (File)","title":"Outputs"},{"location":"tasks/picard/#bam_to_fastq","text":"description [Deprecated] This WDL task converts the input BAM file into FASTQ format files. This task has been deprecated in favor of samtools.collate_to_fastq which is more performant and doesn't error on 'illegal mate states'.","title":"bam_to_fastq"},{"location":"tasks/picard/#inputs_2","text":"","title":"Inputs"},{"location":"tasks/picard/#required_2","text":"_runtime (Any, required ) bam (File, required ): Input BAM format file to convert to FASTQ","title":"Required"},{"location":"tasks/picard/#defaults_2","text":"max_retries (Int, default=1): Number of times to retry failed steps memory_gb (Int, default=56) modify_disk_size_gb (Int, default=0) paired (Boolean, default=true): Is the data paired-end (true) or single-end (false)? prefix (String, default=basename(bam,\".bam\"))","title":"Defaults"},{"location":"tasks/picard/#outputs_2","text":"read_one_fastq_gz (File) read_two_fastq_gz (File?)","title":"Outputs"},{"location":"tasks/picard/#sort","text":"description This WDL task sorts the input BAM file.","title":"sort"},{"location":"tasks/picard/#inputs_3","text":"","title":"Inputs"},{"location":"tasks/picard/#required_3","text":"_runtime (Any, required ) bam (File, required ): Input BAM format file to sort","title":"Required"},{"location":"tasks/picard/#defaults_3","text":"max_retries (Int, default=1) memory_gb (Int, default=25) modify_disk_size_gb (Int, default=0) prefix (String, default=basename(bam,\".bam\") + \".sorted\") sort_order (String, default=\"coordinate\")","title":"Defaults"},{"location":"tasks/picard/#outputs_3","text":"sorted_bam (File)","title":"Outputs"},{"location":"tasks/picard/#merge_sam_files","text":"description This WDL task merges the input BAM files into a single BAM file.","title":"merge_sam_files"},{"location":"tasks/picard/#inputs_4","text":"","title":"Inputs"},{"location":"tasks/picard/#required_4","text":"_runtime (Any, required ) bams (Array[File], required ): Input BAMs to merge prefix (String, required )","title":"Required"},{"location":"tasks/picard/#defaults_4","text":"max_retries (Int, default=1) memory_gb (Int, default=40) modify_disk_size_gb (Int, default=0) sort_order (String, default=\"coordinate\") threading (Boolean, default=true): Option to create a background thread to encode, compress and write to disk the output file. The threaded version uses about 20% more CPU and decreases runtime by ~20% when writing out a compressed BAM file.","title":"Defaults"},{"location":"tasks/picard/#outputs_4","text":"merged_bam (File)","title":"Outputs"},{"location":"tasks/picard/#clean_sam","text":"description This WDL task cleans the input BAM file. Cleans soft-clipping beyond end-of-reference, sets MAPQ=0 for unmapped reads","title":"clean_sam"},{"location":"tasks/picard/#inputs_5","text":"","title":"Inputs"},{"location":"tasks/picard/#required_5","text":"_runtime (Any, required ) bam (File, required ): Input BAM format file to clean","title":"Required"},{"location":"tasks/picard/#defaults_5","text":"max_retries (Int, default=1) memory_gb (Int, default=25) modify_disk_size_gb (Int, default=0) prefix (String, default=basename(bam,\".bam\") + \".cleaned\")","title":"Defaults"},{"location":"tasks/picard/#outputs_5","text":"cleaned_bam (File)","title":"Outputs"},{"location":"tasks/picard/#collect_wgs_metrics","text":"description This WDL task runs picard CollectWgsMetrics to collect metrics about the fractions of reads that pass base- and mapping-quality filters as well as coverage (read-depth) levels.","title":"collect_wgs_metrics"},{"location":"tasks/picard/#inputs_6","text":"","title":"Inputs"},{"location":"tasks/picard/#required_6","text":"_runtime (Any, required ) bam (File, required ): Input BAM format file for which to calculate WGS metrics reference_fasta (File, required )","title":"Required"},{"location":"tasks/picard/#defaults_6","text":"max_retries (Int, default=1) memory_gb (Int, default=12) modify_disk_size_gb (Int, default=0) outfile_name (String, default=basename(bam,\".bam\") + \".CollectWgsMetrics.txt\")","title":"Defaults"},{"location":"tasks/picard/#outputs_6","text":"wgs_metrics (File)","title":"Outputs"},{"location":"tasks/picard/#collect_alignment_summary_metrics","text":"author Andrew Frantz email andrew.frantz@stjude.org description This WDL task runs picard CollectAlignmentSummaryMetrics to calculate metrics detailing the quality of the read alignments as well as the proportion of the reads that passed machine signal-to-noise threshold quality filters.","title":"collect_alignment_summary_metrics"},{"location":"tasks/picard/#inputs_7","text":"","title":"Inputs"},{"location":"tasks/picard/#required_7","text":"_runtime (Any, required ) bam (File, required ): Input BAM format file for which to calculate alignment metrics","title":"Required"},{"location":"tasks/picard/#defaults_7","text":"max_retries (Int, default=1) memory_gb (Int, default=8) modify_disk_size_gb (Int, default=0) prefix (String, default=basename(bam,\".bam\") + \".CollectAlignmentSummaryMetrics\")","title":"Defaults"},{"location":"tasks/picard/#outputs_7","text":"alignment_metrics (File) alignment_metrics_pdf (File)","title":"Outputs"},{"location":"tasks/picard/#collect_gc_bias_metrics","text":"description This WDL task runs picard CollectGcBiasMetrics to collect information about the relative proportions of guanine (G) and cytosine (C) nucleotides.","title":"collect_gc_bias_metrics"},{"location":"tasks/picard/#inputs_8","text":"","title":"Inputs"},{"location":"tasks/picard/#required_8","text":"_runtime (Any, required ) bam (File, required ): Input BAM format file for which to calculate GC bias metrics reference_fasta (File, required )","title":"Required"},{"location":"tasks/picard/#defaults_8","text":"max_retries (Int, default=1) memory_gb (Int, default=8) modify_disk_size_gb (Int, default=0) prefix (String, default=basename(bam,\".bam\") + \".CollectGcBiasMetrics\")","title":"Defaults"},{"location":"tasks/picard/#outputs_8","text":"gc_bias_metrics (File) gc_bias_metrics_summary (File) gc_bias_metrics_pdf (File)","title":"Outputs"},{"location":"tasks/picard/#collect_insert_size_metrics","text":"description This WDL task runs picard CollectInsertSizeMetrics to collect metrics for validating library construction including the insert size distribution and read orientation of paired-end libraries.","title":"collect_insert_size_metrics"},{"location":"tasks/picard/#inputs_9","text":"","title":"Inputs"},{"location":"tasks/picard/#required_9","text":"_runtime (Any, required ) bam (File, required ): Input BAM format file for which to calculate insert size metrics","title":"Required"},{"location":"tasks/picard/#defaults_9","text":"max_retries (Int, default=1) memory_gb (Int, default=8) modify_disk_size_gb (Int, default=0) prefix (String, default=basename(bam,\".bam\") + \".CollectInsertSizeMetrics\")","title":"Defaults"},{"location":"tasks/picard/#outputs_9","text":"insert_size_metrics (File) insert_size_metrics_pdf (File)","title":"Outputs"},{"location":"tasks/picard/#quality_score_distribution","text":"description This WDL task runs picard QualityScoreDistribution to calculate the range of quality scores and an accompanying chart.","title":"quality_score_distribution"},{"location":"tasks/picard/#inputs_10","text":"","title":"Inputs"},{"location":"tasks/picard/#required_10","text":"_runtime (Any, required ) bam (File, required ): Input BAM format file for which to calculate quality score distribution","title":"Required"},{"location":"tasks/picard/#defaults_10","text":"max_retries (Int, default=1) memory_gb (Int, default=8) modify_disk_size_gb (Int, default=0) prefix (String, default=basename(bam,\".bam\") + \".QualityScoreDistribution\")","title":"Defaults"},{"location":"tasks/picard/#outputs_10","text":"quality_score_distribution_txt (File) quality_score_distribution_pdf (File)","title":"Outputs"},{"location":"tasks/qualimap/","text":"QualiMap This WDL file wraps the QualiMap tool. QualiMap computes metrics to facilitate evaluation of sequencing data. bamqc description [Deprecated] This WDL task runs QualiMap's bamqc tool on the input BAM file. This task has been deprecated due to memory leak issues. Use at your own risk, for some samples can consume over 1TB of RAM. Inputs Required _runtime (Any, required ) bam (File, required ): Input BAM format file to run qualimap bamqc on Defaults max_retries (Int, default=1) memory_gb (Int, default=32) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) prefix (String, default=basename(bam,\".bam\")) use_all_cores (Boolean, default=false) Outputs results (File) rnaseq description This WDL task generates runs QualiMap's rnaseq tool on the input BAM file. Note that we don't expose the -p parameter. This is used to set strandedness protocol of the sample, however in practice it only disables certain calculations. We do not expose the parameter so that the full suite of calculations is always performed. Inputs Required _runtime (Any, required ) bam (File, required ): Input BAM format file to run qualimap rnaseq on gtf (File, required ): GTF features file. Gzipped or uncompressed. Defaults max_retries (Int, default=1): Number of times to retry in case of failure memory_gb (Int, default=16): RAM to allocate for task modify_disk_size_gb (Int, default=0): Add to or subtract from dynamic disk space allocation. Default disk size is determined by the size of the inputs. Specified in GB. name_sorted (Boolean, default=false): Is the BAM name sorted? Qualimap has an inefficient sorting algorithm. In order to save resources we recommend collating your input BAM before Qualimap and setting this parameter to true. paired_end (Boolean, default=true): Is the BAM paired end? prefix (String, default=basename(bam,\".bam\") + \".qualimap_rnaseq_results\"): Prefix for the results directory and output tarball. The extension .qualimap_rnaseq_results.tar.gz will be added. Outputs raw_summary (File) raw_coverage (File) results (File)","title":"QualiMap"},{"location":"tasks/qualimap/#qualimap","text":"This WDL file wraps the QualiMap tool. QualiMap computes metrics to facilitate evaluation of sequencing data.","title":"QualiMap"},{"location":"tasks/qualimap/#bamqc","text":"description [Deprecated] This WDL task runs QualiMap's bamqc tool on the input BAM file. This task has been deprecated due to memory leak issues. Use at your own risk, for some samples can consume over 1TB of RAM.","title":"bamqc"},{"location":"tasks/qualimap/#inputs","text":"","title":"Inputs"},{"location":"tasks/qualimap/#required","text":"_runtime (Any, required ) bam (File, required ): Input BAM format file to run qualimap bamqc on","title":"Required"},{"location":"tasks/qualimap/#defaults","text":"max_retries (Int, default=1) memory_gb (Int, default=32) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) prefix (String, default=basename(bam,\".bam\")) use_all_cores (Boolean, default=false)","title":"Defaults"},{"location":"tasks/qualimap/#outputs","text":"results (File)","title":"Outputs"},{"location":"tasks/qualimap/#rnaseq","text":"description This WDL task generates runs QualiMap's rnaseq tool on the input BAM file. Note that we don't expose the -p parameter. This is used to set strandedness protocol of the sample, however in practice it only disables certain calculations. We do not expose the parameter so that the full suite of calculations is always performed.","title":"rnaseq"},{"location":"tasks/qualimap/#inputs_1","text":"","title":"Inputs"},{"location":"tasks/qualimap/#required_1","text":"_runtime (Any, required ) bam (File, required ): Input BAM format file to run qualimap rnaseq on gtf (File, required ): GTF features file. Gzipped or uncompressed.","title":"Required"},{"location":"tasks/qualimap/#defaults_1","text":"max_retries (Int, default=1): Number of times to retry in case of failure memory_gb (Int, default=16): RAM to allocate for task modify_disk_size_gb (Int, default=0): Add to or subtract from dynamic disk space allocation. Default disk size is determined by the size of the inputs. Specified in GB. name_sorted (Boolean, default=false): Is the BAM name sorted? Qualimap has an inefficient sorting algorithm. In order to save resources we recommend collating your input BAM before Qualimap and setting this parameter to true. paired_end (Boolean, default=true): Is the BAM paired end? prefix (String, default=basename(bam,\".bam\") + \".qualimap_rnaseq_results\"): Prefix for the results directory and output tarball. The extension .qualimap_rnaseq_results.tar.gz will be added.","title":"Defaults"},{"location":"tasks/qualimap/#outputs_1","text":"raw_summary (File) raw_coverage (File) results (File)","title":"Outputs"},{"location":"tasks/samtools/","text":"SAMtools This WDL file wraps the SAMtools package . SAMtools provides utlities for manipulating SAM format sequence alignments. quickcheck description This WDL task runs Samtools quickcheck on the input BAM file. This checks that the BAM file appears to be intact, e.g. header exists, at least one sequence is present, and the end-of-file marker exists. Inputs Required _runtime (Any, required ) bam (File, required ): Input BAM format file to quickcheck Defaults max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0) Outputs checked_bam (File) split description This WDL task runs Samtools split on the input BAM file. This splits the BAM by read group into one or more output files. It optionally errors if there are reads present that do not belong to a read group. Inputs Required _runtime (Any, required ) bam (File, required ): Input BAM format file to split Defaults max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) prefix (String, default=basename(bam,\".bam\")) reject_unaccounted (Boolean, default=true): If true, error if there are reads present that do not have read group information. use_all_cores (Boolean, default=false) Outputs split_bams (Array[File]) flagstat description This WDL tool produces a samtools flagstat report containing statistics about the alignments based on the bit flags set in the BAM. Inputs Required _runtime (Any, required ) bam (File, required ): Input BAM format file to generate flagstat for Defaults max_retries (Int, default=1) memory_gb (Int, default=5) modify_disk_size_gb (Int, default=0) outfile_name (String, default=basename(bam,\".bam\") + \".flagstat.txt\") Outputs flagstat_report (File) index description This WDL task runs samtools index on the input BAM file. Inputs Required _runtime (Any, required ) bam (File, required ): Input BAM format file to index Defaults max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) use_all_cores (Boolean, default=false) Outputs bam_index (File) subsample Inputs Required _runtime (Any, required ) bam (File, required ) desired_reads (Int, required ) Defaults max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) prefix (String, default=basename(bam,\".bam\")) use_all_cores (Boolean, default=false) Outputs orig_read_count (File) sampled_bam (File?) merge Inputs Required _runtime (Any, required ) bams (Array[File], required ) prefix (String, required ) Optional new_header (File?) Defaults attach_rg (Boolean, default=true) max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) use_all_cores (Boolean, default=false) Outputs merged_bam (File) addreplacerg description This WDL task runs Samtools addreplacerg on the input BAM file. This adds an existing read group record to reads in the BAM lacking read group tags. Inputs Required _runtime (Any, required ) bam (File, required ): Input BAM format file to add read group information read_group_id (String, required ): Existing read group ID in BAM to add to reads Defaults max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) prefix (String, default=basename(bam,\".bam\") + \".read_group\") use_all_cores (Boolean, default=false) Outputs tagged_bam (File) collate description This WDL task runs samtools collate on the input BAM file. Shuffles and groups reads together by their names. outputs {'collated_bam': 'A collated BAM (reads sharing a name next to each other, no other guarantee of sort order)'} Inputs Required _runtime (Any, required ) bam (File, required ): Input BAM format file to collate Defaults f (Boolean, default=true): Fast mode (primary alignments only) max_retries (Int, default=1): Number of times to retry in case of failure modify_disk_size_gb (Int, default=0): Add to or subtract from dynamic disk space allocation. Default disk size is determined by the size of the inputs. Specified in GB. modify_memory_gb (Int, default=0): Add to or subtract from dynamic memory allocation. Default memory is determined by the size of the inputs. Specified in GB. ncpu (Int, default=1): Number of cores to allocate for task prefix (String, default=basename(bam,\".bam\") + \".collated\"): Prefix for the collated BAM file. The extension .collated.bam will be added. use_all_cores (Boolean, default=false): Use all cores? Recommended for cloud environments. Not recommended for cluster environments. Outputs collated_bam (File) bam_to_fastq description This WDL task runs samtools fastq on the input BAM file. Splits the BAM into FASTQ files. Assumes either a name sorted or collated BAM. For splitting a position sorted BAM see collate_to_fastq . outputs {'read_one_fastq_gz': 'Gzipped FASTQ file with 1st reads in pair', 'read_two_fastq_gz': 'Gzipped FASTQ file with 2nd reads in pair', 'singleton_reads_fastq_gz': 'A gzipped FASTQ containing singleton reads', 'interleaved_reads_fastq_gz': 'An interleaved gzipped paired-end FASTQ'} Inputs Required _runtime (Any, required ) bam (File, required ): Input name sorted or collated BAM format file to convert into FASTQ(s) Defaults F (String, default=\"0x900\"): Do not output alignments with any bits set in INT present in the FLAG field. INT can be specified in hex by beginning with 0x (i.e. /^0x[0-9A-F]+/) or in octal by beginning with 0 (i.e. /^0[0-7]+/). This defaults to 0x900 representing filtering of secondary and supplementary alignments. G (String, default=\"0\"): Only EXCLUDE reads with all of the bits set in INT present in the FLAG field. INT can be specified in hex by beginning with 0x (i.e. /^0x[0-9A-F]+/) or in octal by beginning with 0 (i.e. /^0[0-7]+/). f (String, default=\"0\"): Only output alignments with all bits set in INT present in the FLAG field. INT can be specified in hex by beginning with 0x (i.e. /^0x[0-9A-F]+/) or in octal by beginning with 0 (i.e. /^0[0-7]+/). interleaved (Boolean, default=false): Create an interleaved FASTQ file from paired-end data? max_retries (Int, default=1): Number of times to retry in case of failure memory_gb (Int, default=4): RAM to allocate for task, specified in GB modify_disk_size_gb (Int, default=0): Add to or subtract from dynamic disk space allocation. Default disk size is determined by the size of the inputs. Specified in GB. ncpu (Int, default=1): Number of cores to allocate for task output_singletons (Boolean, default=false): Output singleton reads as their own FASTQ? paired_end (Boolean, default=true): Is the data paired-end? prefix (String, default=basename(bam,\".bam\")): Prefix for output FASTQ(s). Extensions [,_R1,_R2,.singleton].fastq.gz will be added depending on other options. use_all_cores (Boolean, default=false): Use all available cores? Recommended for cloud environments. Not recommended for cluster environments. Outputs read_one_fastq_gz (File?) read_two_fastq_gz (File?) singleton_reads_fastq_gz (File?) interleaved_reads_fastq_gz (File?) collate_to_fastq description This WDL task runs samtools collate on the input BAM file then converts it into FASTQ(s) using samtools fastq . outputs {'collated_bam': 'A collated BAM (reads sharing a name next to each other, no other guarantee of sort order)', 'read_one_fastq_gz': 'Gzipped FASTQ file with 1st reads in pair', 'read_two_fastq_gz': 'Gzipped FASTQ file with 2nd reads in pair', 'singleton_reads_fastq_gz': 'Gzipped FASTQ containing singleton reads', 'interleaved_reads_fastq_gz': 'Interleaved gzipped paired-end FASTQ'} Inputs Required _runtime (Any, required ) bam (File, required ): Input BAM format file to collate and convert to FASTQ(s) Defaults F (String, default=\"0x900\"): Do not output alignments with any bits set in INT present in the FLAG field. INT can be specified in hex by beginning with 0x (i.e. /^0x[0-9A-F]+/) or in octal by beginning with 0 (i.e. /^0[0-7]+/). This defaults to 0x900 representing filtering of secondary and supplementary alignments. G (String, default=\"0\"): Only EXCLUDE reads with all of the bits set in INT present in the FLAG field. INT can be specified in hex by beginning with 0x (i.e. /^0x[0-9A-F]+/) or in octal by beginning with 0 (i.e. /^0[0-7]+/). f (String, default=\"0\"): Only output alignments with all bits set in INT present in the FLAG field. INT can be specified in hex by beginning with 0x (i.e. /^0x[0-9A-F]+/) or in octal by beginning with 0 (i.e. /^0[0-7]+/). fast_mode (Boolean, default=true): Fast mode for samtools collate (primary alignments only) interleaved (Boolean, default=false): Create an interleaved FASTQ file from paired-end data? max_retries (Int, default=1): Number of times to retry in case of failure modify_disk_size_gb (Int, default=0): Add to or subtract from dynamic disk space allocation. Default disk size is determined by the size of the inputs. Specified in GB. modify_memory_gb (Int, default=0): Add to or subtract from dynamic memory allocation. Default memory is determined by the size of the inputs. Specified in GB. ncpu (Int, default=1): Number of cores to allocate for task output_singletons (Boolean, default=false): Output singleton reads as their own FASTQ? paired_end (Boolean, default=true): Is the data paired-end? prefix (String, default=basename(bam,\".bam\")): Prefix for the collated BAM and FASTQ files. The extensions .collated.bam and [,_R1,_R2,.singleton].fastq.gz will be added. store_collated_bam (Boolean, default=false): Save the collated BAM (true) or delete it after FASTQ split (false)? use_all_cores (Boolean, default=false): Use all cores? Recommended for cloud environments. Not recommended for cluster environments. Outputs collated_bam (File?) read_one_fastq_gz (File?) read_two_fastq_gz (File?) singleton_reads_fastq_gz (File?) interleaved_reads_fastq_gz (File?)","title":"SAMtools"},{"location":"tasks/samtools/#samtools","text":"This WDL file wraps the SAMtools package . SAMtools provides utlities for manipulating SAM format sequence alignments.","title":"SAMtools"},{"location":"tasks/samtools/#quickcheck","text":"description This WDL task runs Samtools quickcheck on the input BAM file. This checks that the BAM file appears to be intact, e.g. header exists, at least one sequence is present, and the end-of-file marker exists.","title":"quickcheck"},{"location":"tasks/samtools/#inputs","text":"","title":"Inputs"},{"location":"tasks/samtools/#required","text":"_runtime (Any, required ) bam (File, required ): Input BAM format file to quickcheck","title":"Required"},{"location":"tasks/samtools/#defaults","text":"max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0)","title":"Defaults"},{"location":"tasks/samtools/#outputs","text":"checked_bam (File)","title":"Outputs"},{"location":"tasks/samtools/#split","text":"description This WDL task runs Samtools split on the input BAM file. This splits the BAM by read group into one or more output files. It optionally errors if there are reads present that do not belong to a read group.","title":"split"},{"location":"tasks/samtools/#inputs_1","text":"","title":"Inputs"},{"location":"tasks/samtools/#required_1","text":"_runtime (Any, required ) bam (File, required ): Input BAM format file to split","title":"Required"},{"location":"tasks/samtools/#defaults_1","text":"max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) prefix (String, default=basename(bam,\".bam\")) reject_unaccounted (Boolean, default=true): If true, error if there are reads present that do not have read group information. use_all_cores (Boolean, default=false)","title":"Defaults"},{"location":"tasks/samtools/#outputs_1","text":"split_bams (Array[File])","title":"Outputs"},{"location":"tasks/samtools/#flagstat","text":"description This WDL tool produces a samtools flagstat report containing statistics about the alignments based on the bit flags set in the BAM.","title":"flagstat"},{"location":"tasks/samtools/#inputs_2","text":"","title":"Inputs"},{"location":"tasks/samtools/#required_2","text":"_runtime (Any, required ) bam (File, required ): Input BAM format file to generate flagstat for","title":"Required"},{"location":"tasks/samtools/#defaults_2","text":"max_retries (Int, default=1) memory_gb (Int, default=5) modify_disk_size_gb (Int, default=0) outfile_name (String, default=basename(bam,\".bam\") + \".flagstat.txt\")","title":"Defaults"},{"location":"tasks/samtools/#outputs_2","text":"flagstat_report (File)","title":"Outputs"},{"location":"tasks/samtools/#index","text":"description This WDL task runs samtools index on the input BAM file.","title":"index"},{"location":"tasks/samtools/#inputs_3","text":"","title":"Inputs"},{"location":"tasks/samtools/#required_3","text":"_runtime (Any, required ) bam (File, required ): Input BAM format file to index","title":"Required"},{"location":"tasks/samtools/#defaults_3","text":"max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) use_all_cores (Boolean, default=false)","title":"Defaults"},{"location":"tasks/samtools/#outputs_3","text":"bam_index (File)","title":"Outputs"},{"location":"tasks/samtools/#subsample","text":"","title":"subsample"},{"location":"tasks/samtools/#inputs_4","text":"","title":"Inputs"},{"location":"tasks/samtools/#required_4","text":"_runtime (Any, required ) bam (File, required ) desired_reads (Int, required )","title":"Required"},{"location":"tasks/samtools/#defaults_4","text":"max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) prefix (String, default=basename(bam,\".bam\")) use_all_cores (Boolean, default=false)","title":"Defaults"},{"location":"tasks/samtools/#outputs_4","text":"orig_read_count (File) sampled_bam (File?)","title":"Outputs"},{"location":"tasks/samtools/#merge","text":"","title":"merge"},{"location":"tasks/samtools/#inputs_5","text":"","title":"Inputs"},{"location":"tasks/samtools/#required_5","text":"_runtime (Any, required ) bams (Array[File], required ) prefix (String, required )","title":"Required"},{"location":"tasks/samtools/#optional","text":"new_header (File?)","title":"Optional"},{"location":"tasks/samtools/#defaults_5","text":"attach_rg (Boolean, default=true) max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) use_all_cores (Boolean, default=false)","title":"Defaults"},{"location":"tasks/samtools/#outputs_5","text":"merged_bam (File)","title":"Outputs"},{"location":"tasks/samtools/#addreplacerg","text":"description This WDL task runs Samtools addreplacerg on the input BAM file. This adds an existing read group record to reads in the BAM lacking read group tags.","title":"addreplacerg"},{"location":"tasks/samtools/#inputs_6","text":"","title":"Inputs"},{"location":"tasks/samtools/#required_6","text":"_runtime (Any, required ) bam (File, required ): Input BAM format file to add read group information read_group_id (String, required ): Existing read group ID in BAM to add to reads","title":"Required"},{"location":"tasks/samtools/#defaults_6","text":"max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) prefix (String, default=basename(bam,\".bam\") + \".read_group\") use_all_cores (Boolean, default=false)","title":"Defaults"},{"location":"tasks/samtools/#outputs_6","text":"tagged_bam (File)","title":"Outputs"},{"location":"tasks/samtools/#collate","text":"description This WDL task runs samtools collate on the input BAM file. Shuffles and groups reads together by their names. outputs {'collated_bam': 'A collated BAM (reads sharing a name next to each other, no other guarantee of sort order)'}","title":"collate"},{"location":"tasks/samtools/#inputs_7","text":"","title":"Inputs"},{"location":"tasks/samtools/#required_7","text":"_runtime (Any, required ) bam (File, required ): Input BAM format file to collate","title":"Required"},{"location":"tasks/samtools/#defaults_7","text":"f (Boolean, default=true): Fast mode (primary alignments only) max_retries (Int, default=1): Number of times to retry in case of failure modify_disk_size_gb (Int, default=0): Add to or subtract from dynamic disk space allocation. Default disk size is determined by the size of the inputs. Specified in GB. modify_memory_gb (Int, default=0): Add to or subtract from dynamic memory allocation. Default memory is determined by the size of the inputs. Specified in GB. ncpu (Int, default=1): Number of cores to allocate for task prefix (String, default=basename(bam,\".bam\") + \".collated\"): Prefix for the collated BAM file. The extension .collated.bam will be added. use_all_cores (Boolean, default=false): Use all cores? Recommended for cloud environments. Not recommended for cluster environments.","title":"Defaults"},{"location":"tasks/samtools/#outputs_7","text":"collated_bam (File)","title":"Outputs"},{"location":"tasks/samtools/#bam_to_fastq","text":"description This WDL task runs samtools fastq on the input BAM file. Splits the BAM into FASTQ files. Assumes either a name sorted or collated BAM. For splitting a position sorted BAM see collate_to_fastq . outputs {'read_one_fastq_gz': 'Gzipped FASTQ file with 1st reads in pair', 'read_two_fastq_gz': 'Gzipped FASTQ file with 2nd reads in pair', 'singleton_reads_fastq_gz': 'A gzipped FASTQ containing singleton reads', 'interleaved_reads_fastq_gz': 'An interleaved gzipped paired-end FASTQ'}","title":"bam_to_fastq"},{"location":"tasks/samtools/#inputs_8","text":"","title":"Inputs"},{"location":"tasks/samtools/#required_8","text":"_runtime (Any, required ) bam (File, required ): Input name sorted or collated BAM format file to convert into FASTQ(s)","title":"Required"},{"location":"tasks/samtools/#defaults_8","text":"F (String, default=\"0x900\"): Do not output alignments with any bits set in INT present in the FLAG field. INT can be specified in hex by beginning with 0x (i.e. /^0x[0-9A-F]+/) or in octal by beginning with 0 (i.e. /^0[0-7]+/). This defaults to 0x900 representing filtering of secondary and supplementary alignments. G (String, default=\"0\"): Only EXCLUDE reads with all of the bits set in INT present in the FLAG field. INT can be specified in hex by beginning with 0x (i.e. /^0x[0-9A-F]+/) or in octal by beginning with 0 (i.e. /^0[0-7]+/). f (String, default=\"0\"): Only output alignments with all bits set in INT present in the FLAG field. INT can be specified in hex by beginning with 0x (i.e. /^0x[0-9A-F]+/) or in octal by beginning with 0 (i.e. /^0[0-7]+/). interleaved (Boolean, default=false): Create an interleaved FASTQ file from paired-end data? max_retries (Int, default=1): Number of times to retry in case of failure memory_gb (Int, default=4): RAM to allocate for task, specified in GB modify_disk_size_gb (Int, default=0): Add to or subtract from dynamic disk space allocation. Default disk size is determined by the size of the inputs. Specified in GB. ncpu (Int, default=1): Number of cores to allocate for task output_singletons (Boolean, default=false): Output singleton reads as their own FASTQ? paired_end (Boolean, default=true): Is the data paired-end? prefix (String, default=basename(bam,\".bam\")): Prefix for output FASTQ(s). Extensions [,_R1,_R2,.singleton].fastq.gz will be added depending on other options. use_all_cores (Boolean, default=false): Use all available cores? Recommended for cloud environments. Not recommended for cluster environments.","title":"Defaults"},{"location":"tasks/samtools/#outputs_8","text":"read_one_fastq_gz (File?) read_two_fastq_gz (File?) singleton_reads_fastq_gz (File?) interleaved_reads_fastq_gz (File?)","title":"Outputs"},{"location":"tasks/samtools/#collate_to_fastq","text":"description This WDL task runs samtools collate on the input BAM file then converts it into FASTQ(s) using samtools fastq . outputs {'collated_bam': 'A collated BAM (reads sharing a name next to each other, no other guarantee of sort order)', 'read_one_fastq_gz': 'Gzipped FASTQ file with 1st reads in pair', 'read_two_fastq_gz': 'Gzipped FASTQ file with 2nd reads in pair', 'singleton_reads_fastq_gz': 'Gzipped FASTQ containing singleton reads', 'interleaved_reads_fastq_gz': 'Interleaved gzipped paired-end FASTQ'}","title":"collate_to_fastq"},{"location":"tasks/samtools/#inputs_9","text":"","title":"Inputs"},{"location":"tasks/samtools/#required_9","text":"_runtime (Any, required ) bam (File, required ): Input BAM format file to collate and convert to FASTQ(s)","title":"Required"},{"location":"tasks/samtools/#defaults_9","text":"F (String, default=\"0x900\"): Do not output alignments with any bits set in INT present in the FLAG field. INT can be specified in hex by beginning with 0x (i.e. /^0x[0-9A-F]+/) or in octal by beginning with 0 (i.e. /^0[0-7]+/). This defaults to 0x900 representing filtering of secondary and supplementary alignments. G (String, default=\"0\"): Only EXCLUDE reads with all of the bits set in INT present in the FLAG field. INT can be specified in hex by beginning with 0x (i.e. /^0x[0-9A-F]+/) or in octal by beginning with 0 (i.e. /^0[0-7]+/). f (String, default=\"0\"): Only output alignments with all bits set in INT present in the FLAG field. INT can be specified in hex by beginning with 0x (i.e. /^0x[0-9A-F]+/) or in octal by beginning with 0 (i.e. /^0[0-7]+/). fast_mode (Boolean, default=true): Fast mode for samtools collate (primary alignments only) interleaved (Boolean, default=false): Create an interleaved FASTQ file from paired-end data? max_retries (Int, default=1): Number of times to retry in case of failure modify_disk_size_gb (Int, default=0): Add to or subtract from dynamic disk space allocation. Default disk size is determined by the size of the inputs. Specified in GB. modify_memory_gb (Int, default=0): Add to or subtract from dynamic memory allocation. Default memory is determined by the size of the inputs. Specified in GB. ncpu (Int, default=1): Number of cores to allocate for task output_singletons (Boolean, default=false): Output singleton reads as their own FASTQ? paired_end (Boolean, default=true): Is the data paired-end? prefix (String, default=basename(bam,\".bam\")): Prefix for the collated BAM and FASTQ files. The extensions .collated.bam and [,_R1,_R2,.singleton].fastq.gz will be added. store_collated_bam (Boolean, default=false): Save the collated BAM (true) or delete it after FASTQ split (false)? use_all_cores (Boolean, default=false): Use all cores? Recommended for cloud environments. Not recommended for cluster environments.","title":"Defaults"},{"location":"tasks/samtools/#outputs_9","text":"collated_bam (File?) read_one_fastq_gz (File?) read_two_fastq_gz (File?) singleton_reads_fastq_gz (File?) interleaved_reads_fastq_gz (File?)","title":"Outputs"},{"location":"tasks/star/","text":"STAR This WDL file wraps the STAR aligner . STAR is an RNA-Seq aligner. build_star_db description This WDL task runs STAR's build command to generate a STAR format reference for alignment. Inputs Required _runtime (Any, required ) gtf (File, required ): GTF format feature file reference_fasta (File, required ): The FASTA format reference file for the genome Defaults db_name (String, default=\"star_db\") max_retries (Int, default=1) memory_gb (Int, default=50) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) use_all_cores (Boolean, default=false) Outputs star_db (File) alignment description This WDL task runs the STAR aligner on a set of RNA-Seq FASTQ files. Inputs Required _runtime (Any, required ) prefix (String, required ) read_one_fastqs (Array[File], required ): An array of FASTQ files containing read one information star_db_tar_gz (File, required ): A gzipped TAR file containing the STAR reference files. The name of the root directory which was archived must match the archive's filename without the .tar.gz extension. Optional read_groups (String?): A string containing the read group information to output in the BAM file. If including multiple read group fields per-read group, they should be space delimited. Read groups should be comma separated, with a space on each side (e.g. ' , '). The ID field must come first for each read group and must match the basename of a fastq file (up to the first period). Example: ID:rg1 PU:flowcell1.lane1 SM:sample1 PL:illumina LB:sample1_lib1 , ID:rg2 PU:flowcell1.lane2 SM:sample1 PL:illumina LB:sample1_lib1 Defaults max_retries (Int, default=1) memory_gb (Int, default=50) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) read_two_fastqs (Array[File], default=[]): An array of FASTQ files containing read two information use_all_cores (Boolean, default=false) Outputs star_log (File) star_bam (File)","title":"STAR"},{"location":"tasks/star/#star","text":"This WDL file wraps the STAR aligner . STAR is an RNA-Seq aligner.","title":"STAR"},{"location":"tasks/star/#build_star_db","text":"description This WDL task runs STAR's build command to generate a STAR format reference for alignment.","title":"build_star_db"},{"location":"tasks/star/#inputs","text":"","title":"Inputs"},{"location":"tasks/star/#required","text":"_runtime (Any, required ) gtf (File, required ): GTF format feature file reference_fasta (File, required ): The FASTA format reference file for the genome","title":"Required"},{"location":"tasks/star/#defaults","text":"db_name (String, default=\"star_db\") max_retries (Int, default=1) memory_gb (Int, default=50) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) use_all_cores (Boolean, default=false)","title":"Defaults"},{"location":"tasks/star/#outputs","text":"star_db (File)","title":"Outputs"},{"location":"tasks/star/#alignment","text":"description This WDL task runs the STAR aligner on a set of RNA-Seq FASTQ files.","title":"alignment"},{"location":"tasks/star/#inputs_1","text":"","title":"Inputs"},{"location":"tasks/star/#required_1","text":"_runtime (Any, required ) prefix (String, required ) read_one_fastqs (Array[File], required ): An array of FASTQ files containing read one information star_db_tar_gz (File, required ): A gzipped TAR file containing the STAR reference files. The name of the root directory which was archived must match the archive's filename without the .tar.gz extension.","title":"Required"},{"location":"tasks/star/#optional","text":"read_groups (String?): A string containing the read group information to output in the BAM file. If including multiple read group fields per-read group, they should be space delimited. Read groups should be comma separated, with a space on each side (e.g. ' , '). The ID field must come first for each read group and must match the basename of a fastq file (up to the first period). Example: ID:rg1 PU:flowcell1.lane1 SM:sample1 PL:illumina LB:sample1_lib1 , ID:rg2 PU:flowcell1.lane2 SM:sample1 PL:illumina LB:sample1_lib1","title":"Optional"},{"location":"tasks/star/#defaults_1","text":"max_retries (Int, default=1) memory_gb (Int, default=50) modify_disk_size_gb (Int, default=0) ncpu (Int, default=1) read_two_fastqs (Array[File], default=[]): An array of FASTQ files containing read two information use_all_cores (Boolean, default=false)","title":"Defaults"},{"location":"tasks/star/#outputs_1","text":"star_log (File) star_bam (File)","title":"Outputs"},{"location":"tasks/util/","text":"Utilities This WDL file includes custom scripts to parse and reformat task output as part of a workflow as well as generic tasks. download description This WDL task uses wget to download a file from a remote URL to the local filesystem Inputs Required _runtime (Any, required ) disk_size_gb (Int, required ) outfile_name (String, required ): Name of the output file url (String, required ): URL of the file to download Optional md5sum (String?) Defaults max_retries (Int, default=1) memory_gb (Int, default=4) Outputs downloaded_file (File) get_read_groups description This WDL task is a utility to get read group information from a BAM file and write it out to as a string Inputs Required _runtime (Any, required ) bam (File, required ): Input BAM format file to get read groups from Defaults format_for_star (Boolean, default=true) max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0) Outputs read_groups_file (File) split_string Inputs Required _runtime (Any, required ) input_string (String, required ) Defaults delimiter (String, default=\" , \") disk_size_gb (Int, default=10) max_retries (Int, default=1) memory_gb (Int, default=4) Outputs split_strings (Array[String]) calc_gene_lengths Inputs Required _runtime (Any, required ) gtf (File, required ): GTF feature file Defaults max_retries (Int, default=1): Number of times to retry in case of failure memory_gb (Int, default=8) modify_disk_size_gb (Int, default=0) outfile_name (String, default=basename(gtf,\".gtf.gz\") + \".genelengths.txt\"): Name of the gene lengths file Outputs gene_lengths (File) qc_summary description [OUT OF DATE] This WDL task pulls out keys metrics that can provide a high level overview of the sample, without needing to examine the entire MultiQC report. Currently, these key metrics come from Qualimap and ngsderive. Inputs Required _runtime (Any, required ) multiqc_tar_gz (File, required ) Defaults disk_size_gb (Int, default=10) max_retries (Int, default=1) memory_gb (Int, default=4) outfile_name (String, default=basename(multiqc_tar_gz,\".multiqc.tar.gz\") + \".qc_summary.json\") Outputs summary (File) compression_integrity Inputs Required _runtime (Any, required ) bam (File, required ) Defaults max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0) Outputs check (String) add_to_bam_header Inputs Required _runtime (Any, required ) additional_header (String, required ) bam (File, required ) Defaults max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0) prefix (String, default=basename(bam,\".bam\") + \".reheader\") Outputs updated_header (File) header_lines (Array[String]) reheadered_bam (File) unpack_tarball description Accepts a .tar.gz archive and converts it into a flat array of files. Any directory structure of the archive is ignored. Inputs Required _runtime (Any, required ) tarball (File, required ) Defaults max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0) Outputs tarball_contents (Array[File]) make_coverage_regions_beds description This WDL task takes in a GTF file, converts it to BED, then filters it down to two 3 column BED files: one of only 'exons', one of only 'CDS' regions Inputs Required _runtime (Any, required ) gtf (File, required ) Defaults max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0) Outputs bed (File) exon_bed (File) CDS_bed (File) global_phred_scores description Calculates statistics about PHRED scores of the input BAM. Inputs Required _runtime (Any, required ) bam (File, required ) Defaults fast_mode (Boolean, default=true) max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0) prefix (String, default=basename(bam,\".bam\")) Outputs phred_scores (File)","title":"Utilities"},{"location":"tasks/util/#utilities","text":"This WDL file includes custom scripts to parse and reformat task output as part of a workflow as well as generic tasks.","title":"Utilities"},{"location":"tasks/util/#download","text":"description This WDL task uses wget to download a file from a remote URL to the local filesystem","title":"download"},{"location":"tasks/util/#inputs","text":"","title":"Inputs"},{"location":"tasks/util/#required","text":"_runtime (Any, required ) disk_size_gb (Int, required ) outfile_name (String, required ): Name of the output file url (String, required ): URL of the file to download","title":"Required"},{"location":"tasks/util/#optional","text":"md5sum (String?)","title":"Optional"},{"location":"tasks/util/#defaults","text":"max_retries (Int, default=1) memory_gb (Int, default=4)","title":"Defaults"},{"location":"tasks/util/#outputs","text":"downloaded_file (File)","title":"Outputs"},{"location":"tasks/util/#get_read_groups","text":"description This WDL task is a utility to get read group information from a BAM file and write it out to as a string","title":"get_read_groups"},{"location":"tasks/util/#inputs_1","text":"","title":"Inputs"},{"location":"tasks/util/#required_1","text":"_runtime (Any, required ) bam (File, required ): Input BAM format file to get read groups from","title":"Required"},{"location":"tasks/util/#defaults_1","text":"format_for_star (Boolean, default=true) max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0)","title":"Defaults"},{"location":"tasks/util/#outputs_1","text":"read_groups_file (File)","title":"Outputs"},{"location":"tasks/util/#split_string","text":"","title":"split_string"},{"location":"tasks/util/#inputs_2","text":"","title":"Inputs"},{"location":"tasks/util/#required_2","text":"_runtime (Any, required ) input_string (String, required )","title":"Required"},{"location":"tasks/util/#defaults_2","text":"delimiter (String, default=\" , \") disk_size_gb (Int, default=10) max_retries (Int, default=1) memory_gb (Int, default=4)","title":"Defaults"},{"location":"tasks/util/#outputs_2","text":"split_strings (Array[String])","title":"Outputs"},{"location":"tasks/util/#calc_gene_lengths","text":"","title":"calc_gene_lengths"},{"location":"tasks/util/#inputs_3","text":"","title":"Inputs"},{"location":"tasks/util/#required_3","text":"_runtime (Any, required ) gtf (File, required ): GTF feature file","title":"Required"},{"location":"tasks/util/#defaults_3","text":"max_retries (Int, default=1): Number of times to retry in case of failure memory_gb (Int, default=8) modify_disk_size_gb (Int, default=0) outfile_name (String, default=basename(gtf,\".gtf.gz\") + \".genelengths.txt\"): Name of the gene lengths file","title":"Defaults"},{"location":"tasks/util/#outputs_3","text":"gene_lengths (File)","title":"Outputs"},{"location":"tasks/util/#qc_summary","text":"description [OUT OF DATE] This WDL task pulls out keys metrics that can provide a high level overview of the sample, without needing to examine the entire MultiQC report. Currently, these key metrics come from Qualimap and ngsderive.","title":"qc_summary"},{"location":"tasks/util/#inputs_4","text":"","title":"Inputs"},{"location":"tasks/util/#required_4","text":"_runtime (Any, required ) multiqc_tar_gz (File, required )","title":"Required"},{"location":"tasks/util/#defaults_4","text":"disk_size_gb (Int, default=10) max_retries (Int, default=1) memory_gb (Int, default=4) outfile_name (String, default=basename(multiqc_tar_gz,\".multiqc.tar.gz\") + \".qc_summary.json\")","title":"Defaults"},{"location":"tasks/util/#outputs_4","text":"summary (File)","title":"Outputs"},{"location":"tasks/util/#compression_integrity","text":"","title":"compression_integrity"},{"location":"tasks/util/#inputs_5","text":"","title":"Inputs"},{"location":"tasks/util/#required_5","text":"_runtime (Any, required ) bam (File, required )","title":"Required"},{"location":"tasks/util/#defaults_5","text":"max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0)","title":"Defaults"},{"location":"tasks/util/#outputs_5","text":"check (String)","title":"Outputs"},{"location":"tasks/util/#add_to_bam_header","text":"","title":"add_to_bam_header"},{"location":"tasks/util/#inputs_6","text":"","title":"Inputs"},{"location":"tasks/util/#required_6","text":"_runtime (Any, required ) additional_header (String, required ) bam (File, required )","title":"Required"},{"location":"tasks/util/#defaults_6","text":"max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0) prefix (String, default=basename(bam,\".bam\") + \".reheader\")","title":"Defaults"},{"location":"tasks/util/#outputs_6","text":"updated_header (File) header_lines (Array[String]) reheadered_bam (File)","title":"Outputs"},{"location":"tasks/util/#unpack_tarball","text":"description Accepts a .tar.gz archive and converts it into a flat array of files. Any directory structure of the archive is ignored.","title":"unpack_tarball"},{"location":"tasks/util/#inputs_7","text":"","title":"Inputs"},{"location":"tasks/util/#required_7","text":"_runtime (Any, required ) tarball (File, required )","title":"Required"},{"location":"tasks/util/#defaults_7","text":"max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0)","title":"Defaults"},{"location":"tasks/util/#outputs_7","text":"tarball_contents (Array[File])","title":"Outputs"},{"location":"tasks/util/#make_coverage_regions_beds","text":"description This WDL task takes in a GTF file, converts it to BED, then filters it down to two 3 column BED files: one of only 'exons', one of only 'CDS' regions","title":"make_coverage_regions_beds"},{"location":"tasks/util/#inputs_8","text":"","title":"Inputs"},{"location":"tasks/util/#required_8","text":"_runtime (Any, required ) gtf (File, required )","title":"Required"},{"location":"tasks/util/#defaults_8","text":"max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0)","title":"Defaults"},{"location":"tasks/util/#outputs_8","text":"bed (File) exon_bed (File) CDS_bed (File)","title":"Outputs"},{"location":"tasks/util/#global_phred_scores","text":"description Calculates statistics about PHRED scores of the input BAM.","title":"global_phred_scores"},{"location":"tasks/util/#inputs_9","text":"","title":"Inputs"},{"location":"tasks/util/#required_9","text":"_runtime (Any, required ) bam (File, required )","title":"Required"},{"location":"tasks/util/#defaults_9","text":"fast_mode (Boolean, default=true) max_retries (Int, default=1) memory_gb (Int, default=4) modify_disk_size_gb (Int, default=0) prefix (String, default=basename(bam,\".bam\"))","title":"Defaults"},{"location":"tasks/util/#outputs_9","text":"phred_scores (File)","title":"Outputs"},{"location":"workflows/10x-bam-to-fastqs/","text":"Cell Ranger BAM to FASTQs This WDL workflow converts an input BAM file to a set of FASTQ files. It performs QC checks along the way to validate the input and output. Output: read1s an array of files with the first read in the pair read2s an array of files with the second read in the pair fastqs an array of files sufficient for localizing in Cell Ranger's expected format fastqs_archive a compressed archive containing the array of FASTQ files LICENSING: MIT License Copyright 2020-Present St. Jude Children's Research Hospital Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. cell_ranger_bam_to_fastqs Inputs Required bam (File, required ): BAM file to split into FASTQs. bamtofastq._runtime (Any, required ) fqlint._runtime (Any, required ) quickcheck._runtime (Any, required ) Optional max_retries (Int?): Number of times to retry failed steps. Overrides task level defaults. Defaults cellranger11 (Boolean, default=false): Convert a BAM produced by Cell Ranger 1.0-1.1 gemcode (Boolean, default=false): Convert a BAM produced from GemCode data (Longranger 1.0 - 1.3) longranger20 (Boolean, default=false): Convert a BAM produced by Longranger 2.0 use_all_cores (Boolean, default=false): Use all cores for multi-core steps? bamtofastq.memory_gb (Int, default=40) bamtofastq.modify_disk_size_gb (Int, default=0) bamtofastq.ncpu (Int, default=1) fqlint.disable_validator_codes (Array[String], default=[]) fqlint.modify_disk_size_gb (Int, default=0) fqlint.modify_memory_gb (Int, default=0) fqlint.paired_read_validation_level (String, default=\"high\") fqlint.panic (Boolean, default=true) fqlint.single_read_validation_level (String, default=\"high\") quickcheck.memory_gb (Int, default=4) quickcheck.modify_disk_size_gb (Int, default=0) Outputs fastqs (Array[File]) fastqs_archive (File) read1s (Array[File]) read2s (Array[File]) parse_input Inputs Required _runtime (Any, required ) cellranger11 (Boolean, required ) gemcode (Boolean, required ) longranger20 (Boolean, required ) Defaults disk_size_gb (Int, default=10) max_retries (Int, default=1) memory_gb (Int, default=4) Outputs input_check (String)","title":"Cell Ranger BAM to FASTQs"},{"location":"workflows/10x-bam-to-fastqs/#cell-ranger-bam-to-fastqs","text":"This WDL workflow converts an input BAM file to a set of FASTQ files. It performs QC checks along the way to validate the input and output.","title":"Cell Ranger BAM to FASTQs"},{"location":"workflows/10x-bam-to-fastqs/#output","text":"read1s an array of files with the first read in the pair read2s an array of files with the second read in the pair fastqs an array of files sufficient for localizing in Cell Ranger's expected format fastqs_archive a compressed archive containing the array of FASTQ files","title":"Output:"},{"location":"workflows/10x-bam-to-fastqs/#licensing","text":"","title":"LICENSING:"},{"location":"workflows/10x-bam-to-fastqs/#mit-license","text":"Copyright 2020-Present St. Jude Children's Research Hospital Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.","title":"MIT License"},{"location":"workflows/10x-bam-to-fastqs/#cell_ranger_bam_to_fastqs","text":"","title":"cell_ranger_bam_to_fastqs"},{"location":"workflows/10x-bam-to-fastqs/#inputs","text":"","title":"Inputs"},{"location":"workflows/10x-bam-to-fastqs/#required","text":"bam (File, required ): BAM file to split into FASTQs. bamtofastq._runtime (Any, required ) fqlint._runtime (Any, required ) quickcheck._runtime (Any, required )","title":"Required"},{"location":"workflows/10x-bam-to-fastqs/#optional","text":"max_retries (Int?): Number of times to retry failed steps. Overrides task level defaults.","title":"Optional"},{"location":"workflows/10x-bam-to-fastqs/#defaults","text":"cellranger11 (Boolean, default=false): Convert a BAM produced by Cell Ranger 1.0-1.1 gemcode (Boolean, default=false): Convert a BAM produced from GemCode data (Longranger 1.0 - 1.3) longranger20 (Boolean, default=false): Convert a BAM produced by Longranger 2.0 use_all_cores (Boolean, default=false): Use all cores for multi-core steps? bamtofastq.memory_gb (Int, default=40) bamtofastq.modify_disk_size_gb (Int, default=0) bamtofastq.ncpu (Int, default=1) fqlint.disable_validator_codes (Array[String], default=[]) fqlint.modify_disk_size_gb (Int, default=0) fqlint.modify_memory_gb (Int, default=0) fqlint.paired_read_validation_level (String, default=\"high\") fqlint.panic (Boolean, default=true) fqlint.single_read_validation_level (String, default=\"high\") quickcheck.memory_gb (Int, default=4) quickcheck.modify_disk_size_gb (Int, default=0)","title":"Defaults"},{"location":"workflows/10x-bam-to-fastqs/#outputs","text":"fastqs (Array[File]) fastqs_archive (File) read1s (Array[File]) read2s (Array[File])","title":"Outputs"},{"location":"workflows/10x-bam-to-fastqs/#parse_input","text":"","title":"parse_input"},{"location":"workflows/10x-bam-to-fastqs/#inputs_1","text":"","title":"Inputs"},{"location":"workflows/10x-bam-to-fastqs/#required_1","text":"_runtime (Any, required ) cellranger11 (Boolean, required ) gemcode (Boolean, required ) longranger20 (Boolean, required )","title":"Required"},{"location":"workflows/10x-bam-to-fastqs/#defaults_1","text":"disk_size_gb (Int, default=10) max_retries (Int, default=1) memory_gb (Int, default=4)","title":"Defaults"},{"location":"workflows/10x-bam-to-fastqs/#outputs_1","text":"input_check (String)","title":"Outputs"},{"location":"workflows/ESTIMATE/","text":"ESTIMATE Runs the ESTIMATE software package on a feature counts file. LICENSING: MIT License Copyright 2020-Present St. Jude Children's Research Hospital Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. ESTIMATE Inputs Required counts_file (File, required ) gene_lengths_file (File, required ) calc_tpm._runtime (Any, required ) run_ESTIMATE._runtime (Any, required ) Optional max_retries (Int?): Number of times to retry failed steps. Overrides task level defaults. Defaults calc_tpm.disk_size_gb (Int, default=10) calc_tpm.memory_gb (Int, default=4) calc_tpm.outfile_name (String, default=basename(counts,\".feature-counts.txt\") + \".TPM.txt\") run_ESTIMATE.disk_size_gb (Int, default=10) run_ESTIMATE.memory_gb (Int, default=4) run_ESTIMATE.outfile_name (String, default=basename(gene_expression_file,\".TPM.txt\") + \".ESTIMATE.gct\") Outputs tpm (File) estimate_out (File)","title":"ESTIMATE"},{"location":"workflows/ESTIMATE/#estimate","text":"Runs the ESTIMATE software package on a feature counts file.","title":"ESTIMATE"},{"location":"workflows/ESTIMATE/#licensing","text":"","title":"LICENSING:"},{"location":"workflows/ESTIMATE/#mit-license","text":"Copyright 2020-Present St. Jude Children's Research Hospital Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.","title":"MIT License"},{"location":"workflows/ESTIMATE/#estimate_1","text":"","title":"ESTIMATE"},{"location":"workflows/ESTIMATE/#inputs","text":"","title":"Inputs"},{"location":"workflows/ESTIMATE/#required","text":"counts_file (File, required ) gene_lengths_file (File, required ) calc_tpm._runtime (Any, required ) run_ESTIMATE._runtime (Any, required )","title":"Required"},{"location":"workflows/ESTIMATE/#optional","text":"max_retries (Int?): Number of times to retry failed steps. Overrides task level defaults.","title":"Optional"},{"location":"workflows/ESTIMATE/#defaults","text":"calc_tpm.disk_size_gb (Int, default=10) calc_tpm.memory_gb (Int, default=4) calc_tpm.outfile_name (String, default=basename(counts,\".feature-counts.txt\") + \".TPM.txt\") run_ESTIMATE.disk_size_gb (Int, default=10) run_ESTIMATE.memory_gb (Int, default=4) run_ESTIMATE.outfile_name (String, default=basename(gene_expression_file,\".TPM.txt\") + \".ESTIMATE.gct\")","title":"Defaults"},{"location":"workflows/ESTIMATE/#outputs","text":"tpm (File) estimate_out (File)","title":"Outputs"},{"location":"workflows/bam-to-fastqs/","text":"BAM to FASTQs This WDL workflow converts an input BAM file to a set of FASTQ files for read 1 and read 2. It performs QC checks along the way to validate the input and output. Output: read1s an array of files with the first read in the pair read2s an array of files with the second read in the pair LICENSING: MIT License Copyright 2020-Present St. Jude Children's Research Hospital Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. bam_to_fastqs Inputs Required bam (File, required ): BAM file to split into FASTQs bam_to_fastq._runtime (Any, required ) fqlint._runtime (Any, required ) quickcheck._runtime (Any, required ) split._runtime (Any, required ) Optional max_retries (Int?): Number of times to retry failed steps. Overrides task level defaults. Defaults paired_end (Boolean, default=true): Is the data paired-end (true) or single-end (false)? use_all_cores (Boolean, default=false): Use all cores for multi-core steps? bam_to_fastq.F (String, default=\"0x900\") bam_to_fastq.G (String, default=\"0\") bam_to_fastq.f (String, default=\"0\") bam_to_fastq.fast_mode (Boolean, default=true) bam_to_fastq.modify_disk_size_gb (Int, default=0) bam_to_fastq.modify_memory_gb (Int, default=0) bam_to_fastq.ncpu (Int, default=1) bam_to_fastq.output_singletons (Boolean, default=false) bam_to_fastq.prefix (String, default=basename(bam,\".bam\")) bam_to_fastq.store_collated_bam (Boolean, default=false) fqlint.disable_validator_codes (Array[String], default=[]) fqlint.modify_disk_size_gb (Int, default=0) fqlint.modify_memory_gb (Int, default=0) fqlint.paired_read_validation_level (String, default=\"high\") fqlint.panic (Boolean, default=true) fqlint.single_read_validation_level (String, default=\"high\") quickcheck.memory_gb (Int, default=4) quickcheck.modify_disk_size_gb (Int, default=0) split.memory_gb (Int, default=4) split.modify_disk_size_gb (Int, default=0) split.ncpu (Int, default=1) split.prefix (String, default=basename(bam,\".bam\")) split.reject_unaccounted (Boolean, default=true) Outputs read1s (Array[File]) read2s (Array[File?])","title":"BAM to FASTQs"},{"location":"workflows/bam-to-fastqs/#bam-to-fastqs","text":"This WDL workflow converts an input BAM file to a set of FASTQ files for read 1 and read 2. It performs QC checks along the way to validate the input and output.","title":"BAM to FASTQs"},{"location":"workflows/bam-to-fastqs/#output","text":"read1s an array of files with the first read in the pair read2s an array of files with the second read in the pair","title":"Output:"},{"location":"workflows/bam-to-fastqs/#licensing","text":"","title":"LICENSING:"},{"location":"workflows/bam-to-fastqs/#mit-license","text":"Copyright 2020-Present St. Jude Children's Research Hospital Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.","title":"MIT License"},{"location":"workflows/bam-to-fastqs/#bam_to_fastqs","text":"","title":"bam_to_fastqs"},{"location":"workflows/bam-to-fastqs/#inputs","text":"","title":"Inputs"},{"location":"workflows/bam-to-fastqs/#required","text":"bam (File, required ): BAM file to split into FASTQs bam_to_fastq._runtime (Any, required ) fqlint._runtime (Any, required ) quickcheck._runtime (Any, required ) split._runtime (Any, required )","title":"Required"},{"location":"workflows/bam-to-fastqs/#optional","text":"max_retries (Int?): Number of times to retry failed steps. Overrides task level defaults.","title":"Optional"},{"location":"workflows/bam-to-fastqs/#defaults","text":"paired_end (Boolean, default=true): Is the data paired-end (true) or single-end (false)? use_all_cores (Boolean, default=false): Use all cores for multi-core steps? bam_to_fastq.F (String, default=\"0x900\") bam_to_fastq.G (String, default=\"0\") bam_to_fastq.f (String, default=\"0\") bam_to_fastq.fast_mode (Boolean, default=true) bam_to_fastq.modify_disk_size_gb (Int, default=0) bam_to_fastq.modify_memory_gb (Int, default=0) bam_to_fastq.ncpu (Int, default=1) bam_to_fastq.output_singletons (Boolean, default=false) bam_to_fastq.prefix (String, default=basename(bam,\".bam\")) bam_to_fastq.store_collated_bam (Boolean, default=false) fqlint.disable_validator_codes (Array[String], default=[]) fqlint.modify_disk_size_gb (Int, default=0) fqlint.modify_memory_gb (Int, default=0) fqlint.paired_read_validation_level (String, default=\"high\") fqlint.panic (Boolean, default=true) fqlint.single_read_validation_level (String, default=\"high\") quickcheck.memory_gb (Int, default=4) quickcheck.modify_disk_size_gb (Int, default=0) split.memory_gb (Int, default=4) split.modify_disk_size_gb (Int, default=0) split.ncpu (Int, default=1) split.prefix (String, default=basename(bam,\".bam\")) split.reject_unaccounted (Boolean, default=true)","title":"Defaults"},{"location":"workflows/bam-to-fastqs/#outputs","text":"read1s (Array[File]) read2s (Array[File?])","title":"Outputs"},{"location":"workflows/bwa-db-build/","text":"BWA DB build This WDL workflow generates a set of genome reference files usable by the BWA aligner from an input reference file in FASTA format. Output reference_fa the reference FASTA file bwa_db_tar_gz the BWA reference folder in .tar.gz format LICENSING MIT License Copyright 2020-Present St. Jude Children's Research Hospital Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. bwa_db_build Inputs Required reference_fa_name (String, required ): Name of output reference FASTA file reference_fa_url (String, required ): URL to retrieve the reference FASTA file from. build_bwa_db._runtime (Any, required ) reference_download._runtime (Any, required ) Optional reference_fa_md5 (String?): Expected md5sum of reference FASTA file Defaults max_retries (Int, default=1): Number of times to retry failed steps. Overrides task level defaults. reference_fa_disk_size_gb (Int, default=10) build_bwa_db.db_name (String, default=\"bwa_db\") build_bwa_db.memory_gb (Int, default=5) build_bwa_db.modify_disk_size_gb (Int, default=0) reference_download.memory_gb (Int, default=4) Outputs reference_fa (File) bwa_db_tar_gz (File)","title":"BWA DB build"},{"location":"workflows/bwa-db-build/#bwa-db-build","text":"This WDL workflow generates a set of genome reference files usable by the BWA aligner from an input reference file in FASTA format.","title":"BWA DB build"},{"location":"workflows/bwa-db-build/#output","text":"reference_fa the reference FASTA file bwa_db_tar_gz the BWA reference folder in .tar.gz format","title":"Output"},{"location":"workflows/bwa-db-build/#licensing","text":"","title":"LICENSING"},{"location":"workflows/bwa-db-build/#mit-license","text":"Copyright 2020-Present St. Jude Children's Research Hospital Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.","title":"MIT License"},{"location":"workflows/bwa-db-build/#bwa_db_build","text":"","title":"bwa_db_build"},{"location":"workflows/bwa-db-build/#inputs","text":"","title":"Inputs"},{"location":"workflows/bwa-db-build/#required","text":"reference_fa_name (String, required ): Name of output reference FASTA file reference_fa_url (String, required ): URL to retrieve the reference FASTA file from. build_bwa_db._runtime (Any, required ) reference_download._runtime (Any, required )","title":"Required"},{"location":"workflows/bwa-db-build/#optional","text":"reference_fa_md5 (String?): Expected md5sum of reference FASTA file","title":"Optional"},{"location":"workflows/bwa-db-build/#defaults","text":"max_retries (Int, default=1): Number of times to retry failed steps. Overrides task level defaults. reference_fa_disk_size_gb (Int, default=10) build_bwa_db.db_name (String, default=\"bwa_db\") build_bwa_db.memory_gb (Int, default=5) build_bwa_db.modify_disk_size_gb (Int, default=0) reference_download.memory_gb (Int, default=4)","title":"Defaults"},{"location":"workflows/bwa-db-build/#outputs","text":"reference_fa (File) bwa_db_tar_gz (File)","title":"Outputs"},{"location":"workflows/calc-gene-lengths/","text":"Calculate Gene Lengths Calculates gene lengths from a GTF file. TODO should explain algorithm somewhere. Lots of different ways to calculate gene lengths LICENSING: MIT License Copyright 2020-Present St. Jude Children's Research Hospital Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. calculate_gene_lengths Inputs Required gtf (File, required ): GTF feature file calc_gene_lengths._runtime (Any, required ) Optional max_retries (Int?): Number of times to retry failed steps. Overrides task level defaults. Defaults calc_gene_lengths.memory_gb (Int, default=8) calc_gene_lengths.modify_disk_size_gb (Int, default=0) calc_gene_lengths.outfile_name (String, default=basename(gtf,\".gtf.gz\") + \".genelengths.txt\") Outputs gene_lengths (File)","title":"Calculate Gene Lengths"},{"location":"workflows/calc-gene-lengths/#calculate-gene-lengths","text":"Calculates gene lengths from a GTF file. TODO should explain algorithm somewhere. Lots of different ways to calculate gene lengths","title":"Calculate Gene Lengths"},{"location":"workflows/calc-gene-lengths/#licensing","text":"","title":"LICENSING:"},{"location":"workflows/calc-gene-lengths/#mit-license","text":"Copyright 2020-Present St. Jude Children's Research Hospital Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.","title":"MIT License"},{"location":"workflows/calc-gene-lengths/#calculate_gene_lengths","text":"","title":"calculate_gene_lengths"},{"location":"workflows/calc-gene-lengths/#inputs","text":"","title":"Inputs"},{"location":"workflows/calc-gene-lengths/#required","text":"gtf (File, required ): GTF feature file calc_gene_lengths._runtime (Any, required )","title":"Required"},{"location":"workflows/calc-gene-lengths/#optional","text":"max_retries (Int?): Number of times to retry failed steps. Overrides task level defaults.","title":"Optional"},{"location":"workflows/calc-gene-lengths/#defaults","text":"calc_gene_lengths.memory_gb (Int, default=8) calc_gene_lengths.modify_disk_size_gb (Int, default=0) calc_gene_lengths.outfile_name (String, default=basename(gtf,\".gtf.gz\") + \".genelengths.txt\")","title":"Defaults"},{"location":"workflows/calc-gene-lengths/#outputs","text":"gene_lengths (File)","title":"Outputs"},{"location":"workflows/make-qc-reference/","text":"Make QC Reference Download/create all the reference files needed for quality-check-standard.wdl . This includes: a reference FASTA, a GTF, the database used by Kraken2, and exonic/coding regions BEDs for use in restricting mosdepth coverage analysis to selected regions. LICENSING: MIT License Copyright 2020-Present St. Jude Children's Research Hospital Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. make_qc_reference Inputs Required gtf_name (String, required ): Name of output GTF file gtf_url (String, required ): URL to retrieve the reference GTF file from reference_fa_name (String, required ): Name of output reference FASTA file reference_fa_url (String, required ): URL to retrieve the reference FASTA file from create_library_from_fastas._runtime (Any, required ) download_library._runtime (Any, required ) download_taxonomy._runtime (Any, required ) fastas_download._runtime (Any, required ) gtf_download._runtime (Any, required ) kraken_build_db._runtime (Any, required ) make_coverage_regions_beds._runtime (Any, required ) reference_download._runtime (Any, required ) Optional max_retries (Int?): Number of times to retry failed steps. Overrides task level defaults. fastas_download.md5sum (String?) gtf_download.md5sum (String?) reference_download.md5sum (String?) Defaults gtf_disk_size_gb (Int, default=10) kraken_fasta_urls (Array[String], default=[]): URLs for any additional FASTA files in NCBI format to download and include in the Kraken2 database. This allows the addition of individual genomes (or other sequences) of interest. kraken_fastas (Array[File], default=[]): Array of gzipped FASTA files. Each sequence's ID must contain either an NCBI accession number or an explicit assignment of the taxonomy ID using kraken:taxid kraken_fastas_disk_size_gb (Int, default=10) kraken_libraries (Array[String], default=[\"archaea\", \"bacteria\", \"plasmid\", \"viral\", \"human\", \"fungi\", \"protozoa\", \"UniVec_Core\"]); description : List of kraken libraries to download; choices : ['archaea', 'bacteria', 'plasmid', 'viral', 'human', 'fungi', 'plant', 'protozoa', 'nt', 'UniVec', 'UniVec_Core'] protein (Boolean, default=false): Construct a protein database? reference_fa_disk_size_gb (Int, default=10) create_library_from_fastas.memory_gb (Int, default=4) create_library_from_fastas.modify_disk_size_gb (Int, default=0) download_library.memory_gb (Int, default=4) download_library.modify_disk_size_gb (Int, default=0) download_taxonomy.disk_size_gb (Int, default=60) download_taxonomy.memory_gb (Int, default=4) fastas_download.memory_gb (Int, default=4) gtf_download.memory_gb (Int, default=4) kraken_build_db.db_name (String, default=\"kraken2_db\") kraken_build_db.kmer_len (Int, default=if protein then 15 else 35) kraken_build_db.max_db_size_gb (Int, default=-1) kraken_build_db.minimizer_len (Int, default=if protein then 12 else 31) kraken_build_db.minimizer_spaces (Int, default=if protein then 0 else 7) kraken_build_db.modify_disk_size_gb (Int, default=0) kraken_build_db.modify_memory_gb (Int, default=0) kraken_build_db.ncpu (Int, default=1) kraken_build_db.use_all_cores (Boolean, default=false) make_coverage_regions_beds.memory_gb (Int, default=4) make_coverage_regions_beds.modify_disk_size_gb (Int, default=0) reference_download.memory_gb (Int, default=4) Outputs reference_fa (File) gtf (File) exon_bed (File) CDS_bed (File) kraken_db (File)","title":"Make QC Reference"},{"location":"workflows/make-qc-reference/#make-qc-reference","text":"Download/create all the reference files needed for quality-check-standard.wdl . This includes: a reference FASTA, a GTF, the database used by Kraken2, and exonic/coding regions BEDs for use in restricting mosdepth coverage analysis to selected regions.","title":"Make QC Reference"},{"location":"workflows/make-qc-reference/#licensing","text":"","title":"LICENSING:"},{"location":"workflows/make-qc-reference/#mit-license","text":"Copyright 2020-Present St. Jude Children's Research Hospital Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.","title":"MIT License"},{"location":"workflows/make-qc-reference/#make_qc_reference","text":"","title":"make_qc_reference"},{"location":"workflows/make-qc-reference/#inputs","text":"","title":"Inputs"},{"location":"workflows/make-qc-reference/#required","text":"gtf_name (String, required ): Name of output GTF file gtf_url (String, required ): URL to retrieve the reference GTF file from reference_fa_name (String, required ): Name of output reference FASTA file reference_fa_url (String, required ): URL to retrieve the reference FASTA file from create_library_from_fastas._runtime (Any, required ) download_library._runtime (Any, required ) download_taxonomy._runtime (Any, required ) fastas_download._runtime (Any, required ) gtf_download._runtime (Any, required ) kraken_build_db._runtime (Any, required ) make_coverage_regions_beds._runtime (Any, required ) reference_download._runtime (Any, required )","title":"Required"},{"location":"workflows/make-qc-reference/#optional","text":"max_retries (Int?): Number of times to retry failed steps. Overrides task level defaults. fastas_download.md5sum (String?) gtf_download.md5sum (String?) reference_download.md5sum (String?)","title":"Optional"},{"location":"workflows/make-qc-reference/#defaults","text":"gtf_disk_size_gb (Int, default=10) kraken_fasta_urls (Array[String], default=[]): URLs for any additional FASTA files in NCBI format to download and include in the Kraken2 database. This allows the addition of individual genomes (or other sequences) of interest. kraken_fastas (Array[File], default=[]): Array of gzipped FASTA files. Each sequence's ID must contain either an NCBI accession number or an explicit assignment of the taxonomy ID using kraken:taxid kraken_fastas_disk_size_gb (Int, default=10) kraken_libraries (Array[String], default=[\"archaea\", \"bacteria\", \"plasmid\", \"viral\", \"human\", \"fungi\", \"protozoa\", \"UniVec_Core\"]); description : List of kraken libraries to download; choices : ['archaea', 'bacteria', 'plasmid', 'viral', 'human', 'fungi', 'plant', 'protozoa', 'nt', 'UniVec', 'UniVec_Core'] protein (Boolean, default=false): Construct a protein database? reference_fa_disk_size_gb (Int, default=10) create_library_from_fastas.memory_gb (Int, default=4) create_library_from_fastas.modify_disk_size_gb (Int, default=0) download_library.memory_gb (Int, default=4) download_library.modify_disk_size_gb (Int, default=0) download_taxonomy.disk_size_gb (Int, default=60) download_taxonomy.memory_gb (Int, default=4) fastas_download.memory_gb (Int, default=4) gtf_download.memory_gb (Int, default=4) kraken_build_db.db_name (String, default=\"kraken2_db\") kraken_build_db.kmer_len (Int, default=if protein then 15 else 35) kraken_build_db.max_db_size_gb (Int, default=-1) kraken_build_db.minimizer_len (Int, default=if protein then 12 else 31) kraken_build_db.minimizer_spaces (Int, default=if protein then 0 else 7) kraken_build_db.modify_disk_size_gb (Int, default=0) kraken_build_db.modify_memory_gb (Int, default=0) kraken_build_db.ncpu (Int, default=1) kraken_build_db.use_all_cores (Boolean, default=false) make_coverage_regions_beds.memory_gb (Int, default=4) make_coverage_regions_beds.modify_disk_size_gb (Int, default=0) reference_download.memory_gb (Int, default=4)","title":"Defaults"},{"location":"workflows/make-qc-reference/#outputs","text":"reference_fa (File) gtf (File) exon_bed (File) CDS_bed (File) kraken_db (File)","title":"Outputs"},{"location":"workflows/markdups-post/","text":"MarkDuplicates Post An investigation of all our QC tools was conducted when duplicate marking was introduced to our pipeline. Most tools do not take into consideration whether a read is a duplicate or not. But the tasks called below produce different results depending on whether the input BAM has been duplicate marked or not. markdups_post description This workflow runs QC analyses which are impacted by duplicate marking. outputs {'insert_size_metrics': ' *.txt output file of picard collectInsertSizeMetrics ', 'insert_size_metrics_pdf': ' *.pdf output file of picard collectInsertSizeMetrics ', 'flagstat_report': ' samtools flagstat report', 'mosdepth_global_summary': 'Summary of whole genome coverage produced by mosdepth ', 'mosdepth_global_dist': 'Distribution of whole genome coverage produced by mosdepth ', 'mosdepth_region_summary': 'Summaries of coverage corresponding to the regions defined by coverage_beds input, produced by mosdepth ', 'mosdepth_region_dist': 'Distributions of coverage corresponding to the regions defined by coverage_beds input, produced by mosdepth '} Inputs Required markdups_bam (File, required ): Input BAM format file to quality check. Duplicates being marked is not necessary for a successful run of this workflow. markdups_bam_index (File, required ): BAM index file corresponding to the input BAM collect_insert_size_metrics._runtime (Any, required ) flagstat._runtime (Any, required ) regions_coverage._runtime (Any, required ) wg_coverage._runtime (Any, required ) Optional max_retries (Int?): Number of times to retry failed steps. Overrides task level defaults. wg_coverage.coverage_bed (File?) Defaults coverage_beds (Array[File], default=[]): An array of 3 column BEDs which are passed to the -b flag of mosdepth, in order to restrict coverage analysis to select regions coverage_labels (Array[String], default=[]): An array of equal length to coverage_beds which determines the prefix label applied to the output files. If omitted, defaults of regions1 , regions2 , etc. will be used. prefix (String, default=basename(markdups_bam,\".bam\")): Prefix for all results files collect_insert_size_metrics.memory_gb (Int, default=8) collect_insert_size_metrics.modify_disk_size_gb (Int, default=0) flagstat.memory_gb (Int, default=5) flagstat.modify_disk_size_gb (Int, default=0) regions_coverage.memory_gb (Int, default=8) regions_coverage.min_mapping_quality (Int, default=20) regions_coverage.modify_disk_size_gb (Int, default=0) regions_coverage.use_fast_mode (Boolean, default=true) wg_coverage.memory_gb (Int, default=8) wg_coverage.min_mapping_quality (Int, default=20) wg_coverage.modify_disk_size_gb (Int, default=0) wg_coverage.use_fast_mode (Boolean, default=true) Outputs insert_size_metrics (File) insert_size_metrics_pdf (File) flagstat_report (File) mosdepth_global_summary (File) mosdepth_global_dist (File) mosdepth_region_summary (Array[File]) mosdepth_region_dist (Array[File?])","title":"MarkDuplicates Post"},{"location":"workflows/markdups-post/#markduplicates-post","text":"An investigation of all our QC tools was conducted when duplicate marking was introduced to our pipeline. Most tools do not take into consideration whether a read is a duplicate or not. But the tasks called below produce different results depending on whether the input BAM has been duplicate marked or not.","title":"MarkDuplicates Post"},{"location":"workflows/markdups-post/#markdups_post","text":"description This workflow runs QC analyses which are impacted by duplicate marking. outputs {'insert_size_metrics': ' *.txt output file of picard collectInsertSizeMetrics ', 'insert_size_metrics_pdf': ' *.pdf output file of picard collectInsertSizeMetrics ', 'flagstat_report': ' samtools flagstat report', 'mosdepth_global_summary': 'Summary of whole genome coverage produced by mosdepth ', 'mosdepth_global_dist': 'Distribution of whole genome coverage produced by mosdepth ', 'mosdepth_region_summary': 'Summaries of coverage corresponding to the regions defined by coverage_beds input, produced by mosdepth ', 'mosdepth_region_dist': 'Distributions of coverage corresponding to the regions defined by coverage_beds input, produced by mosdepth '}","title":"markdups_post"},{"location":"workflows/markdups-post/#inputs","text":"","title":"Inputs"},{"location":"workflows/markdups-post/#required","text":"markdups_bam (File, required ): Input BAM format file to quality check. Duplicates being marked is not necessary for a successful run of this workflow. markdups_bam_index (File, required ): BAM index file corresponding to the input BAM collect_insert_size_metrics._runtime (Any, required ) flagstat._runtime (Any, required ) regions_coverage._runtime (Any, required ) wg_coverage._runtime (Any, required )","title":"Required"},{"location":"workflows/markdups-post/#optional","text":"max_retries (Int?): Number of times to retry failed steps. Overrides task level defaults. wg_coverage.coverage_bed (File?)","title":"Optional"},{"location":"workflows/markdups-post/#defaults","text":"coverage_beds (Array[File], default=[]): An array of 3 column BEDs which are passed to the -b flag of mosdepth, in order to restrict coverage analysis to select regions coverage_labels (Array[String], default=[]): An array of equal length to coverage_beds which determines the prefix label applied to the output files. If omitted, defaults of regions1 , regions2 , etc. will be used. prefix (String, default=basename(markdups_bam,\".bam\")): Prefix for all results files collect_insert_size_metrics.memory_gb (Int, default=8) collect_insert_size_metrics.modify_disk_size_gb (Int, default=0) flagstat.memory_gb (Int, default=5) flagstat.modify_disk_size_gb (Int, default=0) regions_coverage.memory_gb (Int, default=8) regions_coverage.min_mapping_quality (Int, default=20) regions_coverage.modify_disk_size_gb (Int, default=0) regions_coverage.use_fast_mode (Boolean, default=true) wg_coverage.memory_gb (Int, default=8) wg_coverage.min_mapping_quality (Int, default=20) wg_coverage.modify_disk_size_gb (Int, default=0) wg_coverage.use_fast_mode (Boolean, default=true)","title":"Defaults"},{"location":"workflows/markdups-post/#outputs","text":"insert_size_metrics (File) insert_size_metrics_pdf (File) flagstat_report (File) mosdepth_global_summary (File) mosdepth_global_dist (File) mosdepth_region_summary (Array[File]) mosdepth_region_dist (Array[File?])","title":"Outputs"},{"location":"workflows/quality-check-standard/","text":"Quality Check Standard This workflow runs a variety of quality checking software on any BAM file. It can be WGS, WES, or Transcriptome data. The results are aggregated and run through MultiQC . LICENSING MIT License Copyright 2020-Present St. Jude Children's Research Hospital Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. quality_check Inputs Required bam (File, required ): Input BAM format file to quality check bam_index (File, required ): BAM index file corresponding to the input BAM kraken_db (File, required ): Kraken2 database. Can be generated with make-qc-reference.wdl . Must be a tarball without a root directory. molecule (String, required ); description : Data type; choices : ['DNA', 'RNA'] reference_fasta (File, required ): Reference genome in FASTA format collate_to_fastq._runtime (Any, required ) collect_alignment_summary_metrics._runtime (Any, required ) collect_gc_bias_metrics._runtime (Any, required ) collect_insert_size_metrics._runtime (Any, required ) compression_integrity._runtime (Any, required ) compute_checksum._runtime (Any, required ) encoding._runtime (Any, required ) fastqc._runtime (Any, required ) flagstat._runtime (Any, required ) fqlint._runtime (Any, required ) global_phred_scores._runtime (Any, required ) infer_strandedness._runtime (Any, required ) instrument._runtime (Any, required ) junction_annotation._runtime (Any, required ) kraken._runtime (Any, required ) markdups._runtime (Any, required ) multiqc._runtime (Any, required ) parse_input._runtime (Any, required ) qualimap_rnaseq._runtime (Any, required ) quality_score_distribution._runtime (Any, required ) quickcheck._runtime (Any, required ) read_length._runtime (Any, required ) regions_coverage._runtime (Any, required ) subsample._runtime (Any, required ) subsample_index._runtime (Any, required ) validate_bam._runtime (Any, required ) wg_coverage._runtime (Any, required ) markdups_post.collect_insert_size_metrics._runtime (Any, required ) markdups_post.flagstat._runtime (Any, required ) markdups_post.regions_coverage._runtime (Any, required ) markdups_post.wg_coverage._runtime (Any, required ) Optional gtf (File?): GTF features file. Gzipped or uncompressed. Required for RNA-Seq data. max_retries (Int?): Number of times to retry failed steps. Overrides task level defaults. wg_coverage.coverage_bed (File?) markdups_post.wg_coverage.coverage_bed (File?) Defaults coverage_beds (Array[File], default=[]): An array of 3 column BEDs which are passed to the -b flag of mosdepth, in order to restrict coverage analysis to select regions coverage_labels (Array[String], default=[]): An array of equal length to coverage_beds which determines the prefix label applied to the output files. If omitted, defaults of regions1 , regions2 , etc. will be used. extra_multiqc_inputs (Array[File], default=[]): An array of additional files to pass directly into MultiQC mark_duplicates (Boolean, default=molecule == \"RNA\"): Mark duplicates before analyses? Note that regardless of this setting, picard MarkDuplicates will be run in order to generate a *.MarkDuplicates.metrics.txt file. However if mark_duplicates is set to false , no BAM will be generated. If set to true , a BAM will be generated and passed to selected downstream analyses. multiqc_config (File, default=\"https://raw.githubusercontent.com/stjudecloud/workflows/main/workflows/qc/inputs/multiqc_config_hg38.yaml\"): YAML file for configuring MultiQC output_intermediate_files (Boolean, default=false): Output intermediate files? FASTQs, if RNA a collated BAM, if mark_duplicates==true a duplicate marked BAM with an index and MD5. WARNING these files can be large. prefix (String, default=basename(bam,\".bam\")): Prefix for all results files subsample_n_reads (Int, default=-1): Only process a random sampling of n reads. Any n <= 0 for processing entire input. Subsampling is done probabalistically so the exact number of reads in the output will have some variation. use_all_cores (Boolean, default=false): Use all cores? Recommended for cloud environments. Not recommended for cluster environments. collate_to_fastq.F (String, default=\"0x900\") collate_to_fastq.G (String, default=\"0\") collate_to_fastq.f (String, default=\"0\") collate_to_fastq.modify_disk_size_gb (Int, default=0) collate_to_fastq.modify_memory_gb (Int, default=0) collate_to_fastq.ncpu (Int, default=1) collate_to_fastq.output_singletons (Boolean, default=false) collect_alignment_summary_metrics.memory_gb (Int, default=8) collect_alignment_summary_metrics.modify_disk_size_gb (Int, default=0) collect_gc_bias_metrics.memory_gb (Int, default=8) collect_gc_bias_metrics.modify_disk_size_gb (Int, default=0) collect_insert_size_metrics.memory_gb (Int, default=8) collect_insert_size_metrics.modify_disk_size_gb (Int, default=0) compression_integrity.memory_gb (Int, default=4) compression_integrity.modify_disk_size_gb (Int, default=0) compute_checksum.memory_gb (Int, default=5) compute_checksum.modify_disk_size_gb (Int, default=0) encoding.memory_gb (Int, default=5) encoding.modify_disk_size_gb (Int, default=0) encoding.num_samples (Int, default=1000000) fastqc.memory_gb (Int, default=5) fastqc.modify_disk_size_gb (Int, default=0) fastqc.ncpu (Int, default=1) flagstat.memory_gb (Int, default=5) flagstat.modify_disk_size_gb (Int, default=0) fqlint.disable_validator_codes (Array[String], default=[]) fqlint.modify_disk_size_gb (Int, default=0) fqlint.modify_memory_gb (Int, default=0) fqlint.paired_read_validation_level (String, default=\"high\") fqlint.panic (Boolean, default=true) fqlint.single_read_validation_level (String, default=\"high\") global_phred_scores.fast_mode (Boolean, default=true) global_phred_scores.memory_gb (Int, default=4) global_phred_scores.modify_disk_size_gb (Int, default=0) infer_strandedness.memory_gb (Int, default=5) infer_strandedness.min_mapq (Int, default=30) infer_strandedness.min_reads_per_gene (Int, default=10) infer_strandedness.modify_disk_size_gb (Int, default=0) infer_strandedness.num_genes (Int, default=1000) instrument.memory_gb (Int, default=4) instrument.modify_disk_size_gb (Int, default=0) instrument.num_samples (Int, default=10000) junction_annotation.fuzzy_junction_match_range (Int, default=0) junction_annotation.memory_gb (Int, default=56) junction_annotation.min_intron (Int, default=50) junction_annotation.min_mapq (Int, default=30) junction_annotation.min_reads (Int, default=2) junction_annotation.modify_disk_size_gb (Int, default=0) kraken.min_base_quality (Int, default=0) kraken.modify_disk_size_gb (Int, default=0) kraken.modify_memory_gb (Int, default=0) kraken.ncpu (Int, default=1) kraken.store_sequences (Boolean, default=false) kraken.use_names (Boolean, default=true) markdups.memory_gb (Int, default=50) markdups.modify_disk_size_gb (Int, default=0) multiqc.memory_gb (Int, default=5) multiqc.modify_disk_size_gb (Int, default=0) parse_input.disk_size_gb (Int, default=10) parse_input.memory_gb (Int, default=4) qualimap_rnaseq.memory_gb (Int, default=16) qualimap_rnaseq.modify_disk_size_gb (Int, default=0) quality_score_distribution.memory_gb (Int, default=8) quality_score_distribution.modify_disk_size_gb (Int, default=0) quickcheck.memory_gb (Int, default=4) quickcheck.modify_disk_size_gb (Int, default=0) read_length.majority_vote_cutoff (Float, default=0.7) read_length.memory_gb (Int, default=5) read_length.modify_disk_size_gb (Int, default=0) read_length.num_samples (Int, default=-1) regions_coverage.memory_gb (Int, default=8) regions_coverage.min_mapping_quality (Int, default=20) regions_coverage.modify_disk_size_gb (Int, default=0) regions_coverage.use_fast_mode (Boolean, default=true) subsample.memory_gb (Int, default=4) subsample.modify_disk_size_gb (Int, default=0) subsample.ncpu (Int, default=1) subsample_index.memory_gb (Int, default=4) subsample_index.modify_disk_size_gb (Int, default=0) subsample_index.ncpu (Int, default=1) validate_bam.index_validation_stringency_less_exhaustive (Boolean, default=false) validate_bam.max_errors (Int, default=2147483647) validate_bam.memory_gb (Int, default=16) validate_bam.modify_disk_size_gb (Int, default=0) validate_bam.succeed_on_warnings (Boolean, default=true) wg_coverage.memory_gb (Int, default=8) wg_coverage.min_mapping_quality (Int, default=20) wg_coverage.modify_disk_size_gb (Int, default=0) wg_coverage.use_fast_mode (Boolean, default=true) markdups_post.collect_insert_size_metrics.memory_gb (Int, default=8) markdups_post.collect_insert_size_metrics.modify_disk_size_gb (Int, default=0) markdups_post.flagstat.memory_gb (Int, default=5) markdups_post.flagstat.modify_disk_size_gb (Int, default=0) markdups_post.regions_coverage.memory_gb (Int, default=8) markdups_post.regions_coverage.min_mapping_quality (Int, default=20) markdups_post.regions_coverage.modify_disk_size_gb (Int, default=0) markdups_post.regions_coverage.use_fast_mode (Boolean, default=true) markdups_post.wg_coverage.memory_gb (Int, default=8) markdups_post.wg_coverage.min_mapping_quality (Int, default=20) markdups_post.wg_coverage.modify_disk_size_gb (Int, default=0) markdups_post.wg_coverage.use_fast_mode (Boolean, default=true) Outputs bam_checksum (File) validate_sam_file (File) mark_duplicates_metrics (File) flagstat_report (File) fastqc_results (File) instrument_file (File) read_length_file (File) inferred_encoding (File) alignment_metrics (File) alignment_metrics_pdf (File) gc_bias_metrics (File) gc_bias_metrics_summary (File) gc_bias_metrics_pdf (File) insert_size_metrics (File) insert_size_metrics_pdf (File) quality_score_distribution_txt (File) quality_score_distribution_pdf (File) phred_scores (File) kraken_report (File) mosdepth_global_dist (File) mosdepth_global_summary (File) mosdepth_region_dist (Array[File]) mosdepth_region_summary (Array[File]) multiqc_report (File) orig_read_count (File?) kraken_sequences (File?) mosdepth_dups_marked_global_dist (File?) mosdepth_dups_marked_global_summary (File?) mosdepth_dups_marked_region_summary (Array[File]?) mosdepth_dups_marked_region_dist (Array[File?]?) inferred_strandedness (File?) qualimap_rnaseq_results (File?) junction_summary (File?) junctions (File?) intermediate_files (IntermediateFiles?) parse_input Inputs Required _runtime (Any, required ) coverage_beds_len (Int, required ) coverage_labels (Array[String], required ) gtf_provided (Boolean, required ) input_molecule (String, required ) Defaults disk_size_gb (Int, default=10) max_retries (Int, default=1) memory_gb (Int, default=4) Outputs check (String) labels (Array[String])","title":"Quality Check Standard"},{"location":"workflows/quality-check-standard/#quality-check-standard","text":"This workflow runs a variety of quality checking software on any BAM file. It can be WGS, WES, or Transcriptome data. The results are aggregated and run through MultiQC .","title":"Quality Check Standard"},{"location":"workflows/quality-check-standard/#licensing","text":"","title":"LICENSING"},{"location":"workflows/quality-check-standard/#mit-license","text":"Copyright 2020-Present St. Jude Children's Research Hospital Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.","title":"MIT License"},{"location":"workflows/quality-check-standard/#quality_check","text":"","title":"quality_check"},{"location":"workflows/quality-check-standard/#inputs","text":"","title":"Inputs"},{"location":"workflows/quality-check-standard/#required","text":"bam (File, required ): Input BAM format file to quality check bam_index (File, required ): BAM index file corresponding to the input BAM kraken_db (File, required ): Kraken2 database. Can be generated with make-qc-reference.wdl . Must be a tarball without a root directory. molecule (String, required ); description : Data type; choices : ['DNA', 'RNA'] reference_fasta (File, required ): Reference genome in FASTA format collate_to_fastq._runtime (Any, required ) collect_alignment_summary_metrics._runtime (Any, required ) collect_gc_bias_metrics._runtime (Any, required ) collect_insert_size_metrics._runtime (Any, required ) compression_integrity._runtime (Any, required ) compute_checksum._runtime (Any, required ) encoding._runtime (Any, required ) fastqc._runtime (Any, required ) flagstat._runtime (Any, required ) fqlint._runtime (Any, required ) global_phred_scores._runtime (Any, required ) infer_strandedness._runtime (Any, required ) instrument._runtime (Any, required ) junction_annotation._runtime (Any, required ) kraken._runtime (Any, required ) markdups._runtime (Any, required ) multiqc._runtime (Any, required ) parse_input._runtime (Any, required ) qualimap_rnaseq._runtime (Any, required ) quality_score_distribution._runtime (Any, required ) quickcheck._runtime (Any, required ) read_length._runtime (Any, required ) regions_coverage._runtime (Any, required ) subsample._runtime (Any, required ) subsample_index._runtime (Any, required ) validate_bam._runtime (Any, required ) wg_coverage._runtime (Any, required ) markdups_post.collect_insert_size_metrics._runtime (Any, required ) markdups_post.flagstat._runtime (Any, required ) markdups_post.regions_coverage._runtime (Any, required ) markdups_post.wg_coverage._runtime (Any, required )","title":"Required"},{"location":"workflows/quality-check-standard/#optional","text":"gtf (File?): GTF features file. Gzipped or uncompressed. Required for RNA-Seq data. max_retries (Int?): Number of times to retry failed steps. Overrides task level defaults. wg_coverage.coverage_bed (File?) markdups_post.wg_coverage.coverage_bed (File?)","title":"Optional"},{"location":"workflows/quality-check-standard/#defaults","text":"coverage_beds (Array[File], default=[]): An array of 3 column BEDs which are passed to the -b flag of mosdepth, in order to restrict coverage analysis to select regions coverage_labels (Array[String], default=[]): An array of equal length to coverage_beds which determines the prefix label applied to the output files. If omitted, defaults of regions1 , regions2 , etc. will be used. extra_multiqc_inputs (Array[File], default=[]): An array of additional files to pass directly into MultiQC mark_duplicates (Boolean, default=molecule == \"RNA\"): Mark duplicates before analyses? Note that regardless of this setting, picard MarkDuplicates will be run in order to generate a *.MarkDuplicates.metrics.txt file. However if mark_duplicates is set to false , no BAM will be generated. If set to true , a BAM will be generated and passed to selected downstream analyses. multiqc_config (File, default=\"https://raw.githubusercontent.com/stjudecloud/workflows/main/workflows/qc/inputs/multiqc_config_hg38.yaml\"): YAML file for configuring MultiQC output_intermediate_files (Boolean, default=false): Output intermediate files? FASTQs, if RNA a collated BAM, if mark_duplicates==true a duplicate marked BAM with an index and MD5. WARNING these files can be large. prefix (String, default=basename(bam,\".bam\")): Prefix for all results files subsample_n_reads (Int, default=-1): Only process a random sampling of n reads. Any n <= 0 for processing entire input. Subsampling is done probabalistically so the exact number of reads in the output will have some variation. use_all_cores (Boolean, default=false): Use all cores? Recommended for cloud environments. Not recommended for cluster environments. collate_to_fastq.F (String, default=\"0x900\") collate_to_fastq.G (String, default=\"0\") collate_to_fastq.f (String, default=\"0\") collate_to_fastq.modify_disk_size_gb (Int, default=0) collate_to_fastq.modify_memory_gb (Int, default=0) collate_to_fastq.ncpu (Int, default=1) collate_to_fastq.output_singletons (Boolean, default=false) collect_alignment_summary_metrics.memory_gb (Int, default=8) collect_alignment_summary_metrics.modify_disk_size_gb (Int, default=0) collect_gc_bias_metrics.memory_gb (Int, default=8) collect_gc_bias_metrics.modify_disk_size_gb (Int, default=0) collect_insert_size_metrics.memory_gb (Int, default=8) collect_insert_size_metrics.modify_disk_size_gb (Int, default=0) compression_integrity.memory_gb (Int, default=4) compression_integrity.modify_disk_size_gb (Int, default=0) compute_checksum.memory_gb (Int, default=5) compute_checksum.modify_disk_size_gb (Int, default=0) encoding.memory_gb (Int, default=5) encoding.modify_disk_size_gb (Int, default=0) encoding.num_samples (Int, default=1000000) fastqc.memory_gb (Int, default=5) fastqc.modify_disk_size_gb (Int, default=0) fastqc.ncpu (Int, default=1) flagstat.memory_gb (Int, default=5) flagstat.modify_disk_size_gb (Int, default=0) fqlint.disable_validator_codes (Array[String], default=[]) fqlint.modify_disk_size_gb (Int, default=0) fqlint.modify_memory_gb (Int, default=0) fqlint.paired_read_validation_level (String, default=\"high\") fqlint.panic (Boolean, default=true) fqlint.single_read_validation_level (String, default=\"high\") global_phred_scores.fast_mode (Boolean, default=true) global_phred_scores.memory_gb (Int, default=4) global_phred_scores.modify_disk_size_gb (Int, default=0) infer_strandedness.memory_gb (Int, default=5) infer_strandedness.min_mapq (Int, default=30) infer_strandedness.min_reads_per_gene (Int, default=10) infer_strandedness.modify_disk_size_gb (Int, default=0) infer_strandedness.num_genes (Int, default=1000) instrument.memory_gb (Int, default=4) instrument.modify_disk_size_gb (Int, default=0) instrument.num_samples (Int, default=10000) junction_annotation.fuzzy_junction_match_range (Int, default=0) junction_annotation.memory_gb (Int, default=56) junction_annotation.min_intron (Int, default=50) junction_annotation.min_mapq (Int, default=30) junction_annotation.min_reads (Int, default=2) junction_annotation.modify_disk_size_gb (Int, default=0) kraken.min_base_quality (Int, default=0) kraken.modify_disk_size_gb (Int, default=0) kraken.modify_memory_gb (Int, default=0) kraken.ncpu (Int, default=1) kraken.store_sequences (Boolean, default=false) kraken.use_names (Boolean, default=true) markdups.memory_gb (Int, default=50) markdups.modify_disk_size_gb (Int, default=0) multiqc.memory_gb (Int, default=5) multiqc.modify_disk_size_gb (Int, default=0) parse_input.disk_size_gb (Int, default=10) parse_input.memory_gb (Int, default=4) qualimap_rnaseq.memory_gb (Int, default=16) qualimap_rnaseq.modify_disk_size_gb (Int, default=0) quality_score_distribution.memory_gb (Int, default=8) quality_score_distribution.modify_disk_size_gb (Int, default=0) quickcheck.memory_gb (Int, default=4) quickcheck.modify_disk_size_gb (Int, default=0) read_length.majority_vote_cutoff (Float, default=0.7) read_length.memory_gb (Int, default=5) read_length.modify_disk_size_gb (Int, default=0) read_length.num_samples (Int, default=-1) regions_coverage.memory_gb (Int, default=8) regions_coverage.min_mapping_quality (Int, default=20) regions_coverage.modify_disk_size_gb (Int, default=0) regions_coverage.use_fast_mode (Boolean, default=true) subsample.memory_gb (Int, default=4) subsample.modify_disk_size_gb (Int, default=0) subsample.ncpu (Int, default=1) subsample_index.memory_gb (Int, default=4) subsample_index.modify_disk_size_gb (Int, default=0) subsample_index.ncpu (Int, default=1) validate_bam.index_validation_stringency_less_exhaustive (Boolean, default=false) validate_bam.max_errors (Int, default=2147483647) validate_bam.memory_gb (Int, default=16) validate_bam.modify_disk_size_gb (Int, default=0) validate_bam.succeed_on_warnings (Boolean, default=true) wg_coverage.memory_gb (Int, default=8) wg_coverage.min_mapping_quality (Int, default=20) wg_coverage.modify_disk_size_gb (Int, default=0) wg_coverage.use_fast_mode (Boolean, default=true) markdups_post.collect_insert_size_metrics.memory_gb (Int, default=8) markdups_post.collect_insert_size_metrics.modify_disk_size_gb (Int, default=0) markdups_post.flagstat.memory_gb (Int, default=5) markdups_post.flagstat.modify_disk_size_gb (Int, default=0) markdups_post.regions_coverage.memory_gb (Int, default=8) markdups_post.regions_coverage.min_mapping_quality (Int, default=20) markdups_post.regions_coverage.modify_disk_size_gb (Int, default=0) markdups_post.regions_coverage.use_fast_mode (Boolean, default=true) markdups_post.wg_coverage.memory_gb (Int, default=8) markdups_post.wg_coverage.min_mapping_quality (Int, default=20) markdups_post.wg_coverage.modify_disk_size_gb (Int, default=0) markdups_post.wg_coverage.use_fast_mode (Boolean, default=true)","title":"Defaults"},{"location":"workflows/quality-check-standard/#outputs","text":"bam_checksum (File) validate_sam_file (File) mark_duplicates_metrics (File) flagstat_report (File) fastqc_results (File) instrument_file (File) read_length_file (File) inferred_encoding (File) alignment_metrics (File) alignment_metrics_pdf (File) gc_bias_metrics (File) gc_bias_metrics_summary (File) gc_bias_metrics_pdf (File) insert_size_metrics (File) insert_size_metrics_pdf (File) quality_score_distribution_txt (File) quality_score_distribution_pdf (File) phred_scores (File) kraken_report (File) mosdepth_global_dist (File) mosdepth_global_summary (File) mosdepth_region_dist (Array[File]) mosdepth_region_summary (Array[File]) multiqc_report (File) orig_read_count (File?) kraken_sequences (File?) mosdepth_dups_marked_global_dist (File?) mosdepth_dups_marked_global_summary (File?) mosdepth_dups_marked_region_summary (Array[File]?) mosdepth_dups_marked_region_dist (Array[File?]?) inferred_strandedness (File?) qualimap_rnaseq_results (File?) junction_summary (File?) junctions (File?) intermediate_files (IntermediateFiles?)","title":"Outputs"},{"location":"workflows/quality-check-standard/#parse_input","text":"","title":"parse_input"},{"location":"workflows/quality-check-standard/#inputs_1","text":"","title":"Inputs"},{"location":"workflows/quality-check-standard/#required_1","text":"_runtime (Any, required ) coverage_beds_len (Int, required ) coverage_labels (Array[String], required ) gtf_provided (Boolean, required ) input_molecule (String, required )","title":"Required"},{"location":"workflows/quality-check-standard/#defaults_1","text":"disk_size_gb (Int, default=10) max_retries (Int, default=1) memory_gb (Int, default=4)","title":"Defaults"},{"location":"workflows/quality-check-standard/#outputs_1","text":"check (String) labels (Array[String])","title":"Outputs"},{"location":"workflows/scrnaseq-standard/","text":"scRNA-Seq Standard This WDL workflow runs the Cell Ranger scRNA-Seq alignment workflow for St. Jude Cloud. The workflow takes an input BAM file and splits it into FASTQ files for each read in the pair. The read pairs are then passed through Cell Ranger to generate a BAM file and perform quantification. Strandedness is inferred using ngsderive. File validation is performed at several steps, including immediately preceeding output. LICENSING MIT License Copyright 2022-Present St. Jude Children's Research Hospital Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. scrnaseq_standard Inputs Required bam (File, required ): Input BAM format file to quality check gtf (File, required ): Gzipped GTF feature file transcriptome_tar_gz (File, required ): Database of reference files for Cell Ranger. Can be downloaded from 10x Genomics. compute_checksum._runtime (Any, required ) count._runtime (Any, required ) infer_strandedness._runtime (Any, required ) subsample._runtime (Any, required ) validate_bam._runtime (Any, required ) validate_input_bam._runtime (Any, required ) cell_ranger_bam_to_fastqs.bamtofastq._runtime (Any, required ) cell_ranger_bam_to_fastqs.fqlint._runtime (Any, required ) cell_ranger_bam_to_fastqs.quickcheck._runtime (Any, required ) Optional max_retries (Int?): Number of times to retry failed steps. Overrides task level defaults. validate_bam.reference_fasta (File?) validate_input_bam.reference_fasta (File?) Defaults prefix (String, default=basename(bam,\".bam\")): Prefix for output files subsample_n_reads (Int, default=-1): Only process a random sampling of n reads. <= 0 for processing entire input BAM. use_all_cores (Boolean, default=false): Use all cores for multi-core steps? validate_input (Boolean, default=true): Ensure input BAM is well-formed before beginning harmonization? cell_ranger_bam_to_fastqs.cellranger11 (Boolean, default=false) cell_ranger_bam_to_fastqs.gemcode (Boolean, default=false) cell_ranger_bam_to_fastqs.longranger20 (Boolean, default=false) compute_checksum.memory_gb (Int, default=5) compute_checksum.modify_disk_size_gb (Int, default=0) count.memory_gb (Int, default=16) count.modify_disk_size_gb (Int, default=0) count.ncpu (Int, default=1) infer_strandedness.memory_gb (Int, default=5) infer_strandedness.min_mapq (Int, default=30) infer_strandedness.min_reads_per_gene (Int, default=10) infer_strandedness.modify_disk_size_gb (Int, default=0) infer_strandedness.num_genes (Int, default=1000) infer_strandedness.outfile_name (String, default=basename(bam,\".bam\") + \".strandedness.tsv\") subsample.memory_gb (Int, default=4) subsample.modify_disk_size_gb (Int, default=0) subsample.ncpu (Int, default=1) subsample.prefix (String, default=basename(bam,\".bam\")): Prefix for output files validate_bam.ignore_list (Array[String], default=[\"MISSING_PLATFORM_VALUE\", \"INVALID_PLATFORM_VALUE\", \"INVALID_MAPPING_QUALITY\"]) validate_bam.index_validation_stringency_less_exhaustive (Boolean, default=false) validate_bam.max_errors (Int, default=2147483647) validate_bam.memory_gb (Int, default=16) validate_bam.modify_disk_size_gb (Int, default=0) validate_bam.outfile_name (String, default=basename(bam,\".bam\") + \".ValidateSamFile.txt\") validate_bam.succeed_on_errors (Boolean, default=false) validate_bam.succeed_on_warnings (Boolean, default=true) validate_bam.summary_mode (Boolean, default=false) validate_input_bam.ignore_list (Array[String], default=[\"MISSING_PLATFORM_VALUE\", \"INVALID_PLATFORM_VALUE\", \"INVALID_MAPPING_QUALITY\"]) validate_input_bam.index_validation_stringency_less_exhaustive (Boolean, default=false) validate_input_bam.max_errors (Int, default=2147483647) validate_input_bam.memory_gb (Int, default=16) validate_input_bam.modify_disk_size_gb (Int, default=0) validate_input_bam.outfile_name (String, default=basename(bam,\".bam\") + \".ValidateSamFile.txt\") validate_input_bam.succeed_on_errors (Boolean, default=false) validate_input_bam.succeed_on_warnings (Boolean, default=true) validate_input_bam.summary_mode (Boolean, default=false) cell_ranger_bam_to_fastqs.bamtofastq.memory_gb (Int, default=40) cell_ranger_bam_to_fastqs.bamtofastq.modify_disk_size_gb (Int, default=0) cell_ranger_bam_to_fastqs.bamtofastq.ncpu (Int, default=1) cell_ranger_bam_to_fastqs.fqlint.disable_validator_codes (Array[String], default=[]) cell_ranger_bam_to_fastqs.fqlint.modify_disk_size_gb (Int, default=0) cell_ranger_bam_to_fastqs.fqlint.modify_memory_gb (Int, default=0) cell_ranger_bam_to_fastqs.fqlint.paired_read_validation_level (String, default=\"high\") cell_ranger_bam_to_fastqs.fqlint.panic (Boolean, default=true) cell_ranger_bam_to_fastqs.fqlint.single_read_validation_level (String, default=\"high\") cell_ranger_bam_to_fastqs.quickcheck.memory_gb (Int, default=4) cell_ranger_bam_to_fastqs.quickcheck.modify_disk_size_gb (Int, default=0) Outputs harmonized_bam (File) bam_checksum (File) bam_index (File) qc (File) barcodes (File) features (File) matrix (File) filtered_gene_h5 (File) raw_gene_h5 (File) raw_barcodes (File) raw_features (File) raw_matrix (File) mol_info_h5 (File) web_summary (File) inferred_strandedness (File)","title":"Scrnaseq standard"},{"location":"workflows/scrnaseq-standard/#licensing","text":"","title":"LICENSING"},{"location":"workflows/scrnaseq-standard/#mit-license","text":"Copyright 2022-Present St. Jude Children's Research Hospital Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.","title":"MIT License"},{"location":"workflows/scrnaseq-standard/#scrnaseq_standard","text":"","title":"scrnaseq_standard"},{"location":"workflows/scrnaseq-standard/#inputs","text":"","title":"Inputs"},{"location":"workflows/scrnaseq-standard/#required","text":"bam (File, required ): Input BAM format file to quality check gtf (File, required ): Gzipped GTF feature file transcriptome_tar_gz (File, required ): Database of reference files for Cell Ranger. Can be downloaded from 10x Genomics. compute_checksum._runtime (Any, required ) count._runtime (Any, required ) infer_strandedness._runtime (Any, required ) subsample._runtime (Any, required ) validate_bam._runtime (Any, required ) validate_input_bam._runtime (Any, required ) cell_ranger_bam_to_fastqs.bamtofastq._runtime (Any, required ) cell_ranger_bam_to_fastqs.fqlint._runtime (Any, required ) cell_ranger_bam_to_fastqs.quickcheck._runtime (Any, required )","title":"Required"},{"location":"workflows/scrnaseq-standard/#optional","text":"max_retries (Int?): Number of times to retry failed steps. Overrides task level defaults. validate_bam.reference_fasta (File?) validate_input_bam.reference_fasta (File?)","title":"Optional"},{"location":"workflows/scrnaseq-standard/#defaults","text":"prefix (String, default=basename(bam,\".bam\")): Prefix for output files subsample_n_reads (Int, default=-1): Only process a random sampling of n reads. <= 0 for processing entire input BAM. use_all_cores (Boolean, default=false): Use all cores for multi-core steps? validate_input (Boolean, default=true): Ensure input BAM is well-formed before beginning harmonization? cell_ranger_bam_to_fastqs.cellranger11 (Boolean, default=false) cell_ranger_bam_to_fastqs.gemcode (Boolean, default=false) cell_ranger_bam_to_fastqs.longranger20 (Boolean, default=false) compute_checksum.memory_gb (Int, default=5) compute_checksum.modify_disk_size_gb (Int, default=0) count.memory_gb (Int, default=16) count.modify_disk_size_gb (Int, default=0) count.ncpu (Int, default=1) infer_strandedness.memory_gb (Int, default=5) infer_strandedness.min_mapq (Int, default=30) infer_strandedness.min_reads_per_gene (Int, default=10) infer_strandedness.modify_disk_size_gb (Int, default=0) infer_strandedness.num_genes (Int, default=1000) infer_strandedness.outfile_name (String, default=basename(bam,\".bam\") + \".strandedness.tsv\") subsample.memory_gb (Int, default=4) subsample.modify_disk_size_gb (Int, default=0) subsample.ncpu (Int, default=1) subsample.prefix (String, default=basename(bam,\".bam\")): Prefix for output files validate_bam.ignore_list (Array[String], default=[\"MISSING_PLATFORM_VALUE\", \"INVALID_PLATFORM_VALUE\", \"INVALID_MAPPING_QUALITY\"]) validate_bam.index_validation_stringency_less_exhaustive (Boolean, default=false) validate_bam.max_errors (Int, default=2147483647) validate_bam.memory_gb (Int, default=16) validate_bam.modify_disk_size_gb (Int, default=0) validate_bam.outfile_name (String, default=basename(bam,\".bam\") + \".ValidateSamFile.txt\") validate_bam.succeed_on_errors (Boolean, default=false) validate_bam.succeed_on_warnings (Boolean, default=true) validate_bam.summary_mode (Boolean, default=false) validate_input_bam.ignore_list (Array[String], default=[\"MISSING_PLATFORM_VALUE\", \"INVALID_PLATFORM_VALUE\", \"INVALID_MAPPING_QUALITY\"]) validate_input_bam.index_validation_stringency_less_exhaustive (Boolean, default=false) validate_input_bam.max_errors (Int, default=2147483647) validate_input_bam.memory_gb (Int, default=16) validate_input_bam.modify_disk_size_gb (Int, default=0) validate_input_bam.outfile_name (String, default=basename(bam,\".bam\") + \".ValidateSamFile.txt\") validate_input_bam.succeed_on_errors (Boolean, default=false) validate_input_bam.succeed_on_warnings (Boolean, default=true) validate_input_bam.summary_mode (Boolean, default=false) cell_ranger_bam_to_fastqs.bamtofastq.memory_gb (Int, default=40) cell_ranger_bam_to_fastqs.bamtofastq.modify_disk_size_gb (Int, default=0) cell_ranger_bam_to_fastqs.bamtofastq.ncpu (Int, default=1) cell_ranger_bam_to_fastqs.fqlint.disable_validator_codes (Array[String], default=[]) cell_ranger_bam_to_fastqs.fqlint.modify_disk_size_gb (Int, default=0) cell_ranger_bam_to_fastqs.fqlint.modify_memory_gb (Int, default=0) cell_ranger_bam_to_fastqs.fqlint.paired_read_validation_level (String, default=\"high\") cell_ranger_bam_to_fastqs.fqlint.panic (Boolean, default=true) cell_ranger_bam_to_fastqs.fqlint.single_read_validation_level (String, default=\"high\") cell_ranger_bam_to_fastqs.quickcheck.memory_gb (Int, default=4) cell_ranger_bam_to_fastqs.quickcheck.modify_disk_size_gb (Int, default=0)","title":"Defaults"},{"location":"workflows/scrnaseq-standard/#outputs","text":"harmonized_bam (File) bam_checksum (File) bam_index (File) qc (File) barcodes (File) features (File) matrix (File) filtered_gene_h5 (File) raw_gene_h5 (File) raw_barcodes (File) raw_features (File) raw_matrix (File) mol_info_h5 (File) web_summary (File) inferred_strandedness (File)","title":"Outputs"},{"location":"workflows/star-db-build/","text":"STAR DB build This WDL workflow generates a set of genome reference files usable by the STAR aligner from an input reference file in FASTA format. Output reference_fa the reference FASTA file gtf the reference GTF file star_db_tar_gz the STAR DB folder in .tar.gz format LICENSING MIT License Copyright 2020-Present St. Jude Children's Research Hospital Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. star_db_build Inputs Required gtf_name (String, required ): Name of output GTF file gtf_url (String, required ): URL to retrieve the reference GTF file from reference_fa_name (String, required ): Name of output reference FASTA file reference_fa_url (String, required ): URL to retrieve the reference FASTA file from build_star_db._runtime (Any, required ) gtf_download._runtime (Any, required ) reference_download._runtime (Any, required ) Optional gtf_md5 (String?): Expected md5sum of GTF file max_retries (Int?): Number of times to retry failed steps. Overrides task level defaults. reference_fa_md5 (String?): Expected md5sum of reference FASTA file Defaults gtf_disk_size_gb (Int, default=10) reference_fa_disk_size_gb (Int, default=10) build_star_db.db_name (String, default=\"star_db\") build_star_db.memory_gb (Int, default=50) build_star_db.modify_disk_size_gb (Int, default=0) build_star_db.ncpu (Int, default=1) build_star_db.use_all_cores (Boolean, default=false) gtf_download.memory_gb (Int, default=4) reference_download.memory_gb (Int, default=4) Outputs reference_fa (File) gtf (File) star_db_tar_gz (File)","title":"STAR DB build"},{"location":"workflows/star-db-build/#star-db-build","text":"This WDL workflow generates a set of genome reference files usable by the STAR aligner from an input reference file in FASTA format.","title":"STAR DB build"},{"location":"workflows/star-db-build/#output","text":"reference_fa the reference FASTA file gtf the reference GTF file star_db_tar_gz the STAR DB folder in .tar.gz format","title":"Output"},{"location":"workflows/star-db-build/#licensing","text":"","title":"LICENSING"},{"location":"workflows/star-db-build/#mit-license","text":"Copyright 2020-Present St. Jude Children's Research Hospital Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.","title":"MIT License"},{"location":"workflows/star-db-build/#star_db_build","text":"","title":"star_db_build"},{"location":"workflows/star-db-build/#inputs","text":"","title":"Inputs"},{"location":"workflows/star-db-build/#required","text":"gtf_name (String, required ): Name of output GTF file gtf_url (String, required ): URL to retrieve the reference GTF file from reference_fa_name (String, required ): Name of output reference FASTA file reference_fa_url (String, required ): URL to retrieve the reference FASTA file from build_star_db._runtime (Any, required ) gtf_download._runtime (Any, required ) reference_download._runtime (Any, required )","title":"Required"},{"location":"workflows/star-db-build/#optional","text":"gtf_md5 (String?): Expected md5sum of GTF file max_retries (Int?): Number of times to retry failed steps. Overrides task level defaults. reference_fa_md5 (String?): Expected md5sum of reference FASTA file","title":"Optional"},{"location":"workflows/star-db-build/#defaults","text":"gtf_disk_size_gb (Int, default=10) reference_fa_disk_size_gb (Int, default=10) build_star_db.db_name (String, default=\"star_db\") build_star_db.memory_gb (Int, default=50) build_star_db.modify_disk_size_gb (Int, default=0) build_star_db.ncpu (Int, default=1) build_star_db.use_all_cores (Boolean, default=false) gtf_download.memory_gb (Int, default=4) reference_download.memory_gb (Int, default=4)","title":"Defaults"},{"location":"workflows/star-db-build/#outputs","text":"reference_fa (File) gtf (File) star_db_tar_gz (File)","title":"Outputs"}]}