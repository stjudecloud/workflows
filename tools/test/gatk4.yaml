apply_bqsr:
  - name: works
    inputs:
      $files:
        bam:
          - bams/test_rnaseq_variant.bam
        bam_index:
          - bams/test_rnaseq_variant.bam.bai
        recalibration_report:
          - test_rnaseq_variant.recal.txt
base_recalibrator:
  - name: works
    inputs:
      $sample:
        bam:
          - bams/test_rnaseq_variant.bam
        bam_index:
          - bams/test_rnaseq_variant.bam.bai
      $reference:
        fasta:
          - reference/GRCh38.chr1_chr19.fa
        fasta_index:
          - reference/GRCh38.chr1_chr19.fa.fai
        dict:
          - reference/GRCh38.chr1_chr19.dict
      $dbsnp:
        dbSNP_vcf: 
          - reference/Homo_sapiens_assembly38.dbsnp138.top5000.vcf
        dbSNP_vcf_index:
          - reference/Homo_sapiens_assembly38.dbsnp138.top5000.vcf.idx
      $known_indels:
        known_indels_sites_vcfs:
          - [ reference/Mills_and_1000G_gold_standard.indels.hg38.vcf.gz ]
        known_indels_sites_indices:
          - [ reference/Mills_and_1000G_gold_standard.indels.hg38.vcf.gz.tbi ]
haplotype_caller:
  - name: works
    tags: [ slow ]
    inputs:
      $sample:
        bam:
          - bams/test_rnaseq_variant.bam
        bam_index:
          - bams/test_rnaseq_variant.bam.bai
      $reference:
        fasta:
          - reference/GRCh38.chr1_chr19.fa
        fasta_index:
          - reference/GRCh38.chr1_chr19.fa.fai
        dict:
          - reference/GRCh38.chr1_chr19.dict
      $dbsnp:
        dbSNP_vcf: 
          - reference/Homo_sapiens_assembly38.dbsnp138.top5000.vcf
        dbSNP_vcf_index:
          - reference/Homo_sapiens_assembly38.dbsnp138.top5000.vcf.idx
      interval_list:
        - chr1_chr19.interval_list
split_n_cigar_reads:
  - name: works
    inputs:
      $sample:
        bam:
          - bams/test_rnaseq_variant.bam
        bam_index:
          - bams/test_rnaseq_variant.bam.bai
      $reference:
        fasta:
          - reference/GRCh38.chr1_chr19.fa
        fasta_index:
          - reference/GRCh38.chr1_chr19.fa.fai
        dict:
          - reference/GRCh38.chr1_chr19.dict
      prefix:
        - split
variant_filtration:
  - name: works
    inputs:
      $sample:
        vcf:
          - vcfs/test1.vcf.gz
          - vcfs/test2.vcf.gz
        vcf_index:
          - vcfs/test1.vcf.gz.tbi
          - vcfs/test2.vcf.gz.tbi
      $reference:
        fasta:
          - reference/GRCh38.chr1_chr19.fa
        fasta_index:
          - reference/GRCh38.chr1_chr19.fa.fai
        dict:
          - reference/GRCh38.chr1_chr19.dict
mark_duplicates_spark:
  - name: works
    inputs:
      bam:
        - bams/test.bwa_aln_pe.chrY_chrM.bam
        - bams/Aligned.sortedByCoord.chr9_chr22.bam
        - bams/test_rnaseq_variant.bam
        - bams/test.bam